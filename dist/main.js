(()=>{"use strict";var e={890:(e,t,n)=>{n.d(t,{Z:()=>i});var r=n(537),o=n.n(r),a=n(645),s=n.n(a)()(o());s.push([e.id,"* {\n  margin: 0;\n}\n\nbody {\n  min-height: 100vh;\n}\n\n.title {\n  font-size: 4rem;\n  padding: 1rem 2rem;\n}\n\n.body {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 2rem;\n}\n\n.boards {\n  display: flex;\n  justify-content: center;\n  gap: 10rem;\n}\n\n.board-info {\n  display: grid;\n  grid-template-columns: 1fr;\n  grid-template-rows: auto 1fr;\n  gap: 0.5rem;\n}\n\n.board {\n  display: grid;\n  grid-template-columns: repeat(10, 1fr);\n  grid-template-rows: repeat(10, 1fr);\n  grid-row: 1 / 2;\n}\n\n.cell {\n  height: 2rem;\n  width: 2rem;\n  border: 1px solid black;\n}\n\n.player {\n  grid-row: 2 / 3;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-size: 1.3rem;\n}\n\n.ship {\n  background-color: gray;\n}\n\n.ship.dragged {\n  opacity: 0.5;\n}\n\n.hit {\n  background-color: red;\n}\n\n.miss {\n  background-color: aqua;\n}\n\n#message {\n  font-size: 1.75rem;\n}\n\n.buttons {\n  display: flex;\n  gap: 2rem;\n  justify-content: center;\n}\n\nbutton {\n  width: 8rem;\n  height: 4rem;\n  font-size: 1.5rem;\n}\n","",{version:3,sources:["webpack://./src/styles/style.css"],names:[],mappings:"AAAA;EACE,SAAS;AACX;;AAEA;EACE,iBAAiB;AACnB;;AAEA;EACE,eAAe;EACf,kBAAkB;AACpB;;AAEA;EACE,aAAa;EACb,sBAAsB;EACtB,mBAAmB;EACnB,SAAS;AACX;;AAEA;EACE,aAAa;EACb,uBAAuB;EACvB,UAAU;AACZ;;AAEA;EACE,aAAa;EACb,0BAA0B;EAC1B,4BAA4B;EAC5B,WAAW;AACb;;AAEA;EACE,aAAa;EACb,sCAAsC;EACtC,mCAAmC;EACnC,eAAe;AACjB;;AAEA;EACE,YAAY;EACZ,WAAW;EACX,uBAAuB;AACzB;;AAEA;EACE,eAAe;EACf,aAAa;EACb,uBAAuB;EACvB,mBAAmB;EACnB,iBAAiB;AACnB;;AAEA;EACE,sBAAsB;AACxB;;AAEA;EACE,YAAY;AACd;;AAEA;EACE,qBAAqB;AACvB;;AAEA;EACE,sBAAsB;AACxB;;AAEA;EACE,kBAAkB;AACpB;;AAEA;EACE,aAAa;EACb,SAAS;EACT,uBAAuB;AACzB;;AAEA;EACE,WAAW;EACX,YAAY;EACZ,iBAAiB;AACnB",sourcesContent:["* {\r\n  margin: 0;\r\n}\r\n\r\nbody {\r\n  min-height: 100vh;\r\n}\r\n\r\n.title {\r\n  font-size: 4rem;\r\n  padding: 1rem 2rem;\r\n}\r\n\r\n.body {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  gap: 2rem;\r\n}\r\n\r\n.boards {\r\n  display: flex;\r\n  justify-content: center;\r\n  gap: 10rem;\r\n}\r\n\r\n.board-info {\r\n  display: grid;\r\n  grid-template-columns: 1fr;\r\n  grid-template-rows: auto 1fr;\r\n  gap: 0.5rem;\r\n}\r\n\r\n.board {\r\n  display: grid;\r\n  grid-template-columns: repeat(10, 1fr);\r\n  grid-template-rows: repeat(10, 1fr);\r\n  grid-row: 1 / 2;\r\n}\r\n\r\n.cell {\r\n  height: 2rem;\r\n  width: 2rem;\r\n  border: 1px solid black;\r\n}\r\n\r\n.player {\r\n  grid-row: 2 / 3;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  font-size: 1.3rem;\r\n}\r\n\r\n.ship {\r\n  background-color: gray;\r\n}\r\n\r\n.ship.dragged {\r\n  opacity: 0.5;\r\n}\r\n\r\n.hit {\r\n  background-color: red;\r\n}\r\n\r\n.miss {\r\n  background-color: aqua;\r\n}\r\n\r\n#message {\r\n  font-size: 1.75rem;\r\n}\r\n\r\n.buttons {\r\n  display: flex;\r\n  gap: 2rem;\r\n  justify-content: center;\r\n}\r\n\r\nbutton {\r\n  width: 8rem;\r\n  height: 4rem;\r\n  font-size: 1.5rem;\r\n}\r\n"],sourceRoot:""}]);const i=s},645:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",r=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,r,o,a){"string"==typeof e&&(e=[[null,e,void 0]]);var s={};if(r)for(var i=0;i<this.length;i++){var l=this[i][0];null!=l&&(s[l]=!0)}for(var c=0;c<e.length;c++){var d=[].concat(e[c]);r&&s[d[0]]||(void 0!==a&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=a),n&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=n):d[2]=n),o&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=o):d[4]="".concat(o)),t.push(d))}},t}},537:e=>{e.exports=function(e){var t=e[1],n=e[3];if(!n)return t;if("function"==typeof btoa){var r=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),o="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(r),a="/*# ".concat(o," */");return[t].concat([a]).join("\n")}return[t].join("\n")}},379:e=>{var t=[];function n(e){for(var n=-1,r=0;r<t.length;r++)if(t[r].identifier===e){n=r;break}return n}function r(e,r){for(var a={},s=[],i=0;i<e.length;i++){var l=e[i],c=r.base?l[0]+r.base:l[0],d=a[c]||0,A="".concat(c," ").concat(d);a[c]=d+1;var u=n(A),p={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==u)t[u].references++,t[u].updater(p);else{var f=o(p,r);r.byIndex=i,t.splice(i,0,{identifier:A,updater:f,references:1})}s.push(A)}return s}function o(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,o){var a=r(e=e||[],o=o||{});return function(e){e=e||[];for(var s=0;s<a.length;s++){var i=n(a[s]);t[i].references--}for(var l=r(e,o),c=0;c<a.length;c++){var d=n(a[c]);0===t[d].references&&(t[d].updater(),t.splice(d,1))}a=l}}},569:e=>{var t={};e.exports=function(e,n){var r=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},216:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},565:(e,t,n)=>{e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},795:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var o=void 0!==n.layer;o&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,o&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var a=n.sourceMap;a&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),t.styleTagTransform(r,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},589:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var a=t[r]={id:r,exports:{}};return e[r](a,a.exports,n),a.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.nc=void 0,(()=>{const e=(e,t,n,r)=>{let o=0;return{length:e,hit:()=>{o+=1},getHits:()=>o,isSunk:()=>e===o,row:t,col:n,axis:r,getCells:()=>{const o=[];if("horizontal"===r)for(let r=n,a=0;a<e;r+=1,a+=1)o.push([t,r]);if("vertical"===r)for(let r=t,a=0;a<e;r+=1,a+=1)o.push([r,n]);return o}}},t=t=>{const n=(()=>{const t=[];let n=[];const r=(()=>{const e=[];for(let t=0;t<10;t+=1){const t=[];for(let e=0;e<10;e+=1)t[e]=null;e.push(t)}return e})(),o=e=>{for(const t of e.getCells()){const[n,o]=t;r[n][o]=e}(e=>{e.getCells().forEach((e=>{const[t,n]=e;for(let e=t-1;e<=t+1;e+=1)for(let t=n-1;t<=n+1;t+=1)e>=0&&e<=9&&t>=0&&t<=9&&null===r[e][t]&&(r[e][t]=0)}))})(e),n.push(e)},a=()=>{const e=[];for(let t=0;t<10;t+=1)for(let n=0;n<10;n+=1)0===r[t][n]&&e.push([t,n]);return e},s=()=>{const e=[];for(let t=0;t<10;t+=1)for(let n=0;n<10;n+=1)r[t][n]&&e.push([t,n]);return e},i=e=>{const t=e.getCells();for(let e=0;e<t.length;e+=1)if(a().some((n=>n[0]===t[e][0]&&n[1]===t[e][1]))||s().some((n=>n[0]===t[e][0]&&n[1]===t[e][1]))||t[e][0]>9||t[e][1]>9)return!1;return!0},l=()=>{for(let e=0;e<10;e+=1)for(let t=0;t<10;t+=1)r[e][t]=null;n=[]};return{getCells:()=>r,placeShip:o,receiveAttack:(e,n)=>{t.push([e,n]);const o=r[e][n];o&&o.hit()},allShipsSunk:()=>n.every((e=>e.isSunk())),getAllMoves:()=>t,getTakenPositions:s,getShips:()=>n,randomizeShips:()=>{l();const t=[2,3,3,4,5];for(;t.length;){const n=t.pop();let r=Math.floor(10*Math.random()),a=Math.floor(10*Math.random());const s=Math.round(Math.random())?"vertical":"horizontal";let l=e(n,r,a,s);for(;!i(l);)r=Math.floor(10*Math.random()),a=Math.floor(10*Math.random()),l=e(n,r,a,s);o(l)}},getSurroundingPositions:a,removeShips:l}})();return{sendAttack:(e,t)=>{const[n,r]=t;e.receiveAttack(n,r)},getRandomMove:()=>[Math.floor(10*Math.random()),Math.floor(10*Math.random())],getBoard:()=>n,name:t}},r=(()=>{let e=t(),n=t(),r=e.getBoard(),o=n.getBoard();const s=()=>r.allShipsSunk()||o.allShipsSunk();return{getPlayer:()=>e,getEnemy:()=>n,isOver:s,playRound:(t,i)=>{let l=parseInt(t.dataset.row,10),c=parseInt(t.dataset.col,10);if(e.sendAttack(o,[l,c]),a.updateCellState(o,t),!o.getCells()[l][c]&&!s())do{let e;do{e=n.getRandomMove()}while(r.getAllMoves().some((t=>t[0]===e[0]&&t[1]===e[1])));n.sendAttack(r,e),[l,c]=e,t=i.querySelector(`.cell[data-row="${l}"][data-col="${c}"]`),a.updateCellState(r,t)}while(r.getCells()[l][c]&&!s());const d=r.allShipsSunk()?n:e;s()&&a.updateMessage(`Game Over! Winner: ${d.name}`)},switchTurn:()=>{e.isTurn()?(e.endTurn(),n.startTurn()):(n.endTurn(),e.startTurn())},initializeObjects:()=>{e=t("You"),n=t("Opponent"),r=e.getBoard(),o=n.getBoard(),r.randomizeShips(),o.randomizeShips()}}})(),o=r,a=(()=>{const e=document.querySelectorAll(".board"),t=document.getElementById("player-board"),n=document.getElementById("enemy-board"),r=document.getElementById("play-button"),a=document.getElementById("reset-button"),s=document.getElementById("random-button"),i=document.getElementById("message"),l=e=>{t.querySelectorAll(".ship").forEach((e=>e.classList.remove("ship")));for(const n of e.getShips()){if("horizontal"===n.axis)for(let e=n.col,r=0;r<n.length;e+=1,r+=1){const r=t.querySelector(`.cell[data-row="${n.row}"][data-col="${e}"]`);r.classList.add("ship"),r.setAttribute("data-size",n.length)}if("vertical"===n.axis)for(let e=n.row,r=0;r<n.length;e+=1,r+=1){const r=t.querySelector(`.cell[data-row="${e}"][data-col="${n.col}"]`);r.classList.add("ship"),r.setAttribute("data-size",n.length)}}},c=(e,t)=>{const n=parseInt(t.dataset.row,10),r=parseInt(t.dataset.col,10),o=t.parentElement;[...o.children].filter((e=>1===Math.abs(n-e.dataset.row)&&1===Math.abs(r-e.dataset.col))).forEach((e=>{e.classList.add("miss")})),e.getShips().filter((e=>e.isSunk())).forEach((t=>{t.getCells().forEach((t=>{const[n,r]=t;for(let t=n-1;t<=n+1;t+=1)for(let n=r-1;n<=r+1;n+=1)t>=0&&t<=9&&n>=0&&n<=9&&0===e.getCells()[t][n]&&o.querySelector(`.cell[data-row="${t}"][data-col="${n}"]`).classList.add("miss")}))}))},d=e=>{const n=e.target.closest(".cell");n&&(o.isOver()||n.classList.contains("hit")||n.classList.contains("miss")||o.playRound(n,t))},A=e=>{i.textContent=e};return r.addEventListener("click",(()=>{r.style.display="none",s.style.display="none",n.addEventListener("click",d),A("Make your move by clicking the opponent's board.")})),a.addEventListener("click",(()=>{document.querySelectorAll(".cell").forEach((e=>{e.classList.contains("hit")&&e.classList.remove("hit"),e.classList.contains("miss")&&e.classList.remove("miss")})),o.initializeObjects(),l(o.getPlayer().getBoard()),n.removeEventListener("click",d),r.style.display="block",s.style.display="block",A("Place Your Ships")})),s.addEventListener("click",(()=>{o.initializeObjects(),l(o.getPlayer().getBoard())})),{addBoardCells:()=>{e.forEach((e=>{for(let t=0;t<10;t+=1)for(let n=0;n<10;n+=1){const r=document.createElement("div");r.classList.add("cell"),r.setAttribute("data-row",t),r.setAttribute("data-col",n),e.appendChild(r)}}))},displayShips:l,updateCellState:(e,t)=>{e.getTakenPositions().some((e=>e[0]===parseInt(t.dataset.row,10)&&e[1]===parseInt(t.dataset.col,10)))?(t.classList.add("hit"),c(e,t)):t.classList.add("miss")},updateMessage:A,revealSurroundingCells:c}})();var s=n(379),i=n.n(s),l=n(795),c=n.n(l),d=n(569),A=n.n(d),u=n(565),p=n.n(u),f=n(216),m=n.n(f),h=n(589),g=n.n(h),y=n(890),E={};E.styleTagTransform=g(),E.setAttributes=p(),E.insert=A().bind(null,"head"),E.domAPI=c(),E.insertStyleElement=m(),i()(y.Z,E),y.Z&&y.Z.locals&&y.Z.locals,a.addBoardCells(),o.initializeObjects();const C=o.getPlayer().getBoard();a.displayShips(C)})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RCxjQW5Mb0IsS0FDcEI1QixFQUFnQi9DLFNBQVNSLElBQ3ZCLElBQUssSUFBSWxILEVBQUksRUFBR0EsRUFBSSxHQUFJQSxHQUFLLEVBQzNCLElBQUssSUFBSWdILEVBQUksRUFBR0EsRUFBSSxHQUFJQSxHQUFLLEVBQUcsQ0FDOUIsTUFBTVMsRUFBT25FLFNBQVNXLGNBQWMsT0FDcEN3RCxFQUFLeUQsVUFBVUUsSUFBSSxRQUNuQjNELEVBQUtuRCxhQUFhLFdBQVl0RSxHQUM5QnlILEVBQUtuRCxhQUFhLFdBQVkwQyxHQUM5QkUsRUFBTW5ELFlBQVkwRCxFQUNwQixDQUNGLEdBQ0EsRUF5S0Z3RCxlQUNBakIsZ0JBNUVzQixDQUFDOUMsRUFBT08sS0FFWlAsRUFDZlksb0JBQ0FHLE1BQ0VDLEdBQ0NBLEVBQVMsS0FBTzRCLFNBQVNyQyxFQUFLc0MsUUFBUXhELElBQUssS0FDM0MyQixFQUFTLEtBQU80QixTQUFTckMsRUFBS3NDLFFBQVF2RCxJQUFLLE9BSy9DaUIsRUFBS3lELFVBQVVFLElBQUksT0FDbkJDLEVBQXVCbkUsRUFBT08sSUFDekJBLEVBQUt5RCxVQUFVRSxJQUFJLE9BQU8sRUErRGpDakIsZ0JBQ0FrQix5QkFFSCxFQWxNVyxHLHlIQ01SN0osRUFBVSxDQUFDLEVBRWZBLEVBQVFnRCxrQkFBb0IsSUFDNUJoRCxFQUFRMEMsY0FBZ0IsSUFFbEIxQyxFQUFRMEIsT0FBUyxTQUFjLEtBQU0sUUFFM0MxQixFQUFRZSxPQUFTLElBQ2pCZixFQUFRK0MsbUJBQXFCLElBRWhCLElBQUksSUFBUy9DLEdBS0osS0FBVyxJQUFROEssUUFBUyxJQUFRQSxPQ3JCMUQsRUFBSUQsZ0JBRUosRUFBSzdCLG9CQUVMLE1BQU1qQixFQUFjLEVBQUtHLFlBQVlQLFdBRXJDLEVBQUk4QixhQUFhMUIsRSIsInNvdXJjZXMiOlsid2VicGFjazovL2JhdHRsZXNoaXAvLi9zcmMvc3R5bGVzL3N0eWxlLmNzcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL3NvdXJjZU1hcHMuanMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luamVjdFN0eWxlc0ludG9TdHlsZVRhZy5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5zZXJ0QnlTZWxlY3Rvci5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5zZXJ0U3R5bGVFbGVtZW50LmpzIiwid2VicGFjazovL2JhdHRsZXNoaXAvLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zZXRBdHRyaWJ1dGVzV2l0aG91dEF0dHJpYnV0ZXMuanMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3N0eWxlRG9tQVBJLmpzIiwid2VicGFjazovL2JhdHRsZXNoaXAvLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zdHlsZVRhZ1RyYW5zZm9ybS5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL2JhdHRsZXNoaXAvd2VicGFjay9ydW50aW1lL2NvbXBhdCBnZXQgZGVmYXVsdCBleHBvcnQiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC93ZWJwYWNrL3J1bnRpbWUvZGVmaW5lIHByb3BlcnR5IGdldHRlcnMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL2JhdHRsZXNoaXAvd2VicGFjay9ydW50aW1lL25vbmNlIiwid2VicGFjazovL2JhdHRsZXNoaXAvLi9zcmMvU2hpcC5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vc3JjL1BsYXllci5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vc3JjL0dhbWVib2FyZC5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vc3JjL0dhbWUuanMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL3NyYy9ET00uanMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL3NyYy9zdHlsZXMvc3R5bGUuY3NzP2ZmOTQiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL3NyYy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBJbXBvcnRzXG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BUElfU09VUkNFTUFQX0lNUE9SVF9fXyBmcm9tIFwiLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL3NvdXJjZU1hcHMuanNcIjtcbmltcG9ydCBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18gZnJvbSBcIi4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanNcIjtcbnZhciBfX19DU1NfTE9BREVSX0VYUE9SVF9fXyA9IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyhfX19DU1NfTE9BREVSX0FQSV9TT1VSQ0VNQVBfSU1QT1JUX19fKTtcbi8vIE1vZHVsZVxuX19fQ1NTX0xPQURFUl9FWFBPUlRfX18ucHVzaChbbW9kdWxlLmlkLCBgKiB7XHJcbiAgbWFyZ2luOiAwO1xyXG59XHJcblxyXG5ib2R5IHtcclxuICBtaW4taGVpZ2h0OiAxMDB2aDtcclxufVxyXG5cclxuLnRpdGxlIHtcclxuICBmb250LXNpemU6IDRyZW07XHJcbiAgcGFkZGluZzogMXJlbSAycmVtO1xyXG59XHJcblxyXG4uYm9keSB7XHJcbiAgZGlzcGxheTogZmxleDtcclxuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgZ2FwOiAycmVtO1xyXG59XHJcblxyXG4uYm9hcmRzIHtcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG4gIGdhcDogMTByZW07XHJcbn1cclxuXHJcbi5ib2FyZC1pbmZvIHtcclxuICBkaXNwbGF5OiBncmlkO1xyXG4gIGdyaWQtdGVtcGxhdGUtY29sdW1uczogMWZyO1xyXG4gIGdyaWQtdGVtcGxhdGUtcm93czogYXV0byAxZnI7XHJcbiAgZ2FwOiAwLjVyZW07XHJcbn1cclxuXHJcbi5ib2FyZCB7XHJcbiAgZGlzcGxheTogZ3JpZDtcclxuICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IHJlcGVhdCgxMCwgMWZyKTtcclxuICBncmlkLXRlbXBsYXRlLXJvd3M6IHJlcGVhdCgxMCwgMWZyKTtcclxuICBncmlkLXJvdzogMSAvIDI7XHJcbn1cclxuXHJcbi5jZWxsIHtcclxuICBoZWlnaHQ6IDJyZW07XHJcbiAgd2lkdGg6IDJyZW07XHJcbiAgYm9yZGVyOiAxcHggc29saWQgYmxhY2s7XHJcbn1cclxuXHJcbi5wbGF5ZXIge1xyXG4gIGdyaWQtcm93OiAyIC8gMztcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgZm9udC1zaXplOiAxLjNyZW07XHJcbn1cclxuXHJcbi5zaGlwIHtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiBncmF5O1xyXG59XHJcblxyXG4uc2hpcC5kcmFnZ2VkIHtcclxuICBvcGFjaXR5OiAwLjU7XHJcbn1cclxuXHJcbi5oaXQge1xyXG4gIGJhY2tncm91bmQtY29sb3I6IHJlZDtcclxufVxyXG5cclxuLm1pc3Mge1xyXG4gIGJhY2tncm91bmQtY29sb3I6IGFxdWE7XHJcbn1cclxuXHJcbiNtZXNzYWdlIHtcclxuICBmb250LXNpemU6IDEuNzVyZW07XHJcbn1cclxuXHJcbi5idXR0b25zIHtcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIGdhcDogMnJlbTtcclxuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxufVxyXG5cclxuYnV0dG9uIHtcclxuICB3aWR0aDogOHJlbTtcclxuICBoZWlnaHQ6IDRyZW07XHJcbiAgZm9udC1zaXplOiAxLjVyZW07XHJcbn1cclxuYCwgXCJcIix7XCJ2ZXJzaW9uXCI6MyxcInNvdXJjZXNcIjpbXCJ3ZWJwYWNrOi8vLi9zcmMvc3R5bGVzL3N0eWxlLmNzc1wiXSxcIm5hbWVzXCI6W10sXCJtYXBwaW5nc1wiOlwiQUFBQTtFQUNFLFNBQVM7QUFDWDs7QUFFQTtFQUNFLGlCQUFpQjtBQUNuQjs7QUFFQTtFQUNFLGVBQWU7RUFDZixrQkFBa0I7QUFDcEI7O0FBRUE7RUFDRSxhQUFhO0VBQ2Isc0JBQXNCO0VBQ3RCLG1CQUFtQjtFQUNuQixTQUFTO0FBQ1g7O0FBRUE7RUFDRSxhQUFhO0VBQ2IsdUJBQXVCO0VBQ3ZCLFVBQVU7QUFDWjs7QUFFQTtFQUNFLGFBQWE7RUFDYiwwQkFBMEI7RUFDMUIsNEJBQTRCO0VBQzVCLFdBQVc7QUFDYjs7QUFFQTtFQUNFLGFBQWE7RUFDYixzQ0FBc0M7RUFDdEMsbUNBQW1DO0VBQ25DLGVBQWU7QUFDakI7O0FBRUE7RUFDRSxZQUFZO0VBQ1osV0FBVztFQUNYLHVCQUF1QjtBQUN6Qjs7QUFFQTtFQUNFLGVBQWU7RUFDZixhQUFhO0VBQ2IsdUJBQXVCO0VBQ3ZCLG1CQUFtQjtFQUNuQixpQkFBaUI7QUFDbkI7O0FBRUE7RUFDRSxzQkFBc0I7QUFDeEI7O0FBRUE7RUFDRSxZQUFZO0FBQ2Q7O0FBRUE7RUFDRSxxQkFBcUI7QUFDdkI7O0FBRUE7RUFDRSxzQkFBc0I7QUFDeEI7O0FBRUE7RUFDRSxrQkFBa0I7QUFDcEI7O0FBRUE7RUFDRSxhQUFhO0VBQ2IsU0FBUztFQUNULHVCQUF1QjtBQUN6Qjs7QUFFQTtFQUNFLFdBQVc7RUFDWCxZQUFZO0VBQ1osaUJBQWlCO0FBQ25CXCIsXCJzb3VyY2VzQ29udGVudFwiOltcIioge1xcclxcbiAgbWFyZ2luOiAwO1xcclxcbn1cXHJcXG5cXHJcXG5ib2R5IHtcXHJcXG4gIG1pbi1oZWlnaHQ6IDEwMHZoO1xcclxcbn1cXHJcXG5cXHJcXG4udGl0bGUge1xcclxcbiAgZm9udC1zaXplOiA0cmVtO1xcclxcbiAgcGFkZGluZzogMXJlbSAycmVtO1xcclxcbn1cXHJcXG5cXHJcXG4uYm9keSB7XFxyXFxuICBkaXNwbGF5OiBmbGV4O1xcclxcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcXHJcXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XFxyXFxuICBnYXA6IDJyZW07XFxyXFxufVxcclxcblxcclxcbi5ib2FyZHMge1xcclxcbiAgZGlzcGxheTogZmxleDtcXHJcXG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xcclxcbiAgZ2FwOiAxMHJlbTtcXHJcXG59XFxyXFxuXFxyXFxuLmJvYXJkLWluZm8ge1xcclxcbiAgZGlzcGxheTogZ3JpZDtcXHJcXG4gIGdyaWQtdGVtcGxhdGUtY29sdW1uczogMWZyO1xcclxcbiAgZ3JpZC10ZW1wbGF0ZS1yb3dzOiBhdXRvIDFmcjtcXHJcXG4gIGdhcDogMC41cmVtO1xcclxcbn1cXHJcXG5cXHJcXG4uYm9hcmQge1xcclxcbiAgZGlzcGxheTogZ3JpZDtcXHJcXG4gIGdyaWQtdGVtcGxhdGUtY29sdW1uczogcmVwZWF0KDEwLCAxZnIpO1xcclxcbiAgZ3JpZC10ZW1wbGF0ZS1yb3dzOiByZXBlYXQoMTAsIDFmcik7XFxyXFxuICBncmlkLXJvdzogMSAvIDI7XFxyXFxufVxcclxcblxcclxcbi5jZWxsIHtcXHJcXG4gIGhlaWdodDogMnJlbTtcXHJcXG4gIHdpZHRoOiAycmVtO1xcclxcbiAgYm9yZGVyOiAxcHggc29saWQgYmxhY2s7XFxyXFxufVxcclxcblxcclxcbi5wbGF5ZXIge1xcclxcbiAgZ3JpZC1yb3c6IDIgLyAzO1xcclxcbiAgZGlzcGxheTogZmxleDtcXHJcXG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xcclxcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXHJcXG4gIGZvbnQtc2l6ZTogMS4zcmVtO1xcclxcbn1cXHJcXG5cXHJcXG4uc2hpcCB7XFxyXFxuICBiYWNrZ3JvdW5kLWNvbG9yOiBncmF5O1xcclxcbn1cXHJcXG5cXHJcXG4uc2hpcC5kcmFnZ2VkIHtcXHJcXG4gIG9wYWNpdHk6IDAuNTtcXHJcXG59XFxyXFxuXFxyXFxuLmhpdCB7XFxyXFxuICBiYWNrZ3JvdW5kLWNvbG9yOiByZWQ7XFxyXFxufVxcclxcblxcclxcbi5taXNzIHtcXHJcXG4gIGJhY2tncm91bmQtY29sb3I6IGFxdWE7XFxyXFxufVxcclxcblxcclxcbiNtZXNzYWdlIHtcXHJcXG4gIGZvbnQtc2l6ZTogMS43NXJlbTtcXHJcXG59XFxyXFxuXFxyXFxuLmJ1dHRvbnMge1xcclxcbiAgZGlzcGxheTogZmxleDtcXHJcXG4gIGdhcDogMnJlbTtcXHJcXG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xcclxcbn1cXHJcXG5cXHJcXG5idXR0b24ge1xcclxcbiAgd2lkdGg6IDhyZW07XFxyXFxuICBoZWlnaHQ6IDRyZW07XFxyXFxuICBmb250LXNpemU6IDEuNXJlbTtcXHJcXG59XFxyXFxuXCJdLFwic291cmNlUm9vdFwiOlwiXCJ9XSk7XG4vLyBFeHBvcnRzXG5leHBvcnQgZGVmYXVsdCBfX19DU1NfTE9BREVSX0VYUE9SVF9fXztcbiIsIlwidXNlIHN0cmljdFwiO1xuXG4vKlxuICBNSVQgTGljZW5zZSBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocFxuICBBdXRob3IgVG9iaWFzIEtvcHBlcnMgQHNva3JhXG4qL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoY3NzV2l0aE1hcHBpbmdUb1N0cmluZykge1xuICB2YXIgbGlzdCA9IFtdO1xuXG4gIC8vIHJldHVybiB0aGUgbGlzdCBvZiBtb2R1bGVzIGFzIGNzcyBzdHJpbmdcbiAgbGlzdC50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nKCkge1xuICAgIHJldHVybiB0aGlzLm1hcChmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgdmFyIGNvbnRlbnQgPSBcIlwiO1xuICAgICAgdmFyIG5lZWRMYXllciA9IHR5cGVvZiBpdGVtWzVdICE9PSBcInVuZGVmaW5lZFwiO1xuICAgICAgaWYgKGl0ZW1bNF0pIHtcbiAgICAgICAgY29udGVudCArPSBcIkBzdXBwb3J0cyAoXCIuY29uY2F0KGl0ZW1bNF0sIFwiKSB7XCIpO1xuICAgICAgfVxuICAgICAgaWYgKGl0ZW1bMl0pIHtcbiAgICAgICAgY29udGVudCArPSBcIkBtZWRpYSBcIi5jb25jYXQoaXRlbVsyXSwgXCIge1wiKTtcbiAgICAgIH1cbiAgICAgIGlmIChuZWVkTGF5ZXIpIHtcbiAgICAgICAgY29udGVudCArPSBcIkBsYXllclwiLmNvbmNhdChpdGVtWzVdLmxlbmd0aCA+IDAgPyBcIiBcIi5jb25jYXQoaXRlbVs1XSkgOiBcIlwiLCBcIiB7XCIpO1xuICAgICAgfVxuICAgICAgY29udGVudCArPSBjc3NXaXRoTWFwcGluZ1RvU3RyaW5nKGl0ZW0pO1xuICAgICAgaWYgKG5lZWRMYXllcikge1xuICAgICAgICBjb250ZW50ICs9IFwifVwiO1xuICAgICAgfVxuICAgICAgaWYgKGl0ZW1bMl0pIHtcbiAgICAgICAgY29udGVudCArPSBcIn1cIjtcbiAgICAgIH1cbiAgICAgIGlmIChpdGVtWzRdKSB7XG4gICAgICAgIGNvbnRlbnQgKz0gXCJ9XCI7XG4gICAgICB9XG4gICAgICByZXR1cm4gY29udGVudDtcbiAgICB9KS5qb2luKFwiXCIpO1xuICB9O1xuXG4gIC8vIGltcG9ydCBhIGxpc3Qgb2YgbW9kdWxlcyBpbnRvIHRoZSBsaXN0XG4gIGxpc3QuaSA9IGZ1bmN0aW9uIGkobW9kdWxlcywgbWVkaWEsIGRlZHVwZSwgc3VwcG9ydHMsIGxheWVyKSB7XG4gICAgaWYgKHR5cGVvZiBtb2R1bGVzID09PSBcInN0cmluZ1wiKSB7XG4gICAgICBtb2R1bGVzID0gW1tudWxsLCBtb2R1bGVzLCB1bmRlZmluZWRdXTtcbiAgICB9XG4gICAgdmFyIGFscmVhZHlJbXBvcnRlZE1vZHVsZXMgPSB7fTtcbiAgICBpZiAoZGVkdXBlKSB7XG4gICAgICBmb3IgKHZhciBrID0gMDsgayA8IHRoaXMubGVuZ3RoOyBrKyspIHtcbiAgICAgICAgdmFyIGlkID0gdGhpc1trXVswXTtcbiAgICAgICAgaWYgKGlkICE9IG51bGwpIHtcbiAgICAgICAgICBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2lkXSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgZm9yICh2YXIgX2sgPSAwOyBfayA8IG1vZHVsZXMubGVuZ3RoOyBfaysrKSB7XG4gICAgICB2YXIgaXRlbSA9IFtdLmNvbmNhdChtb2R1bGVzW19rXSk7XG4gICAgICBpZiAoZGVkdXBlICYmIGFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaXRlbVswXV0pIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIGxheWVyICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgIGlmICh0eXBlb2YgaXRlbVs1XSA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgIGl0ZW1bNV0gPSBsYXllcjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpdGVtWzFdID0gXCJAbGF5ZXJcIi5jb25jYXQoaXRlbVs1XS5sZW5ndGggPiAwID8gXCIgXCIuY29uY2F0KGl0ZW1bNV0pIDogXCJcIiwgXCIge1wiKS5jb25jYXQoaXRlbVsxXSwgXCJ9XCIpO1xuICAgICAgICAgIGl0ZW1bNV0gPSBsYXllcjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKG1lZGlhKSB7XG4gICAgICAgIGlmICghaXRlbVsyXSkge1xuICAgICAgICAgIGl0ZW1bMl0gPSBtZWRpYTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpdGVtWzFdID0gXCJAbWVkaWEgXCIuY29uY2F0KGl0ZW1bMl0sIFwiIHtcIikuY29uY2F0KGl0ZW1bMV0sIFwifVwiKTtcbiAgICAgICAgICBpdGVtWzJdID0gbWVkaWE7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChzdXBwb3J0cykge1xuICAgICAgICBpZiAoIWl0ZW1bNF0pIHtcbiAgICAgICAgICBpdGVtWzRdID0gXCJcIi5jb25jYXQoc3VwcG9ydHMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGl0ZW1bMV0gPSBcIkBzdXBwb3J0cyAoXCIuY29uY2F0KGl0ZW1bNF0sIFwiKSB7XCIpLmNvbmNhdChpdGVtWzFdLCBcIn1cIik7XG4gICAgICAgICAgaXRlbVs0XSA9IHN1cHBvcnRzO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBsaXN0LnB1c2goaXRlbSk7XG4gICAgfVxuICB9O1xuICByZXR1cm4gbGlzdDtcbn07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0ZW0pIHtcbiAgdmFyIGNvbnRlbnQgPSBpdGVtWzFdO1xuICB2YXIgY3NzTWFwcGluZyA9IGl0ZW1bM107XG4gIGlmICghY3NzTWFwcGluZykge1xuICAgIHJldHVybiBjb250ZW50O1xuICB9XG4gIGlmICh0eXBlb2YgYnRvYSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgdmFyIGJhc2U2NCA9IGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KGNzc01hcHBpbmcpKSkpO1xuICAgIHZhciBkYXRhID0gXCJzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCxcIi5jb25jYXQoYmFzZTY0KTtcbiAgICB2YXIgc291cmNlTWFwcGluZyA9IFwiLyojIFwiLmNvbmNhdChkYXRhLCBcIiAqL1wiKTtcbiAgICByZXR1cm4gW2NvbnRlbnRdLmNvbmNhdChbc291cmNlTWFwcGluZ10pLmpvaW4oXCJcXG5cIik7XG4gIH1cbiAgcmV0dXJuIFtjb250ZW50XS5qb2luKFwiXFxuXCIpO1xufTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIHN0eWxlc0luRE9NID0gW107XG5mdW5jdGlvbiBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKSB7XG4gIHZhciByZXN1bHQgPSAtMTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHlsZXNJbkRPTS5sZW5ndGg7IGkrKykge1xuICAgIGlmIChzdHlsZXNJbkRPTVtpXS5pZGVudGlmaWVyID09PSBpZGVudGlmaWVyKSB7XG4gICAgICByZXN1bHQgPSBpO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5mdW5jdGlvbiBtb2R1bGVzVG9Eb20obGlzdCwgb3B0aW9ucykge1xuICB2YXIgaWRDb3VudE1hcCA9IHt9O1xuICB2YXIgaWRlbnRpZmllcnMgPSBbXTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGl0ZW0gPSBsaXN0W2ldO1xuICAgIHZhciBpZCA9IG9wdGlvbnMuYmFzZSA/IGl0ZW1bMF0gKyBvcHRpb25zLmJhc2UgOiBpdGVtWzBdO1xuICAgIHZhciBjb3VudCA9IGlkQ291bnRNYXBbaWRdIHx8IDA7XG4gICAgdmFyIGlkZW50aWZpZXIgPSBcIlwiLmNvbmNhdChpZCwgXCIgXCIpLmNvbmNhdChjb3VudCk7XG4gICAgaWRDb3VudE1hcFtpZF0gPSBjb3VudCArIDE7XG4gICAgdmFyIGluZGV4QnlJZGVudGlmaWVyID0gZ2V0SW5kZXhCeUlkZW50aWZpZXIoaWRlbnRpZmllcik7XG4gICAgdmFyIG9iaiA9IHtcbiAgICAgIGNzczogaXRlbVsxXSxcbiAgICAgIG1lZGlhOiBpdGVtWzJdLFxuICAgICAgc291cmNlTWFwOiBpdGVtWzNdLFxuICAgICAgc3VwcG9ydHM6IGl0ZW1bNF0sXG4gICAgICBsYXllcjogaXRlbVs1XVxuICAgIH07XG4gICAgaWYgKGluZGV4QnlJZGVudGlmaWVyICE9PSAtMSkge1xuICAgICAgc3R5bGVzSW5ET01baW5kZXhCeUlkZW50aWZpZXJdLnJlZmVyZW5jZXMrKztcbiAgICAgIHN0eWxlc0luRE9NW2luZGV4QnlJZGVudGlmaWVyXS51cGRhdGVyKG9iaik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciB1cGRhdGVyID0gYWRkRWxlbWVudFN0eWxlKG9iaiwgb3B0aW9ucyk7XG4gICAgICBvcHRpb25zLmJ5SW5kZXggPSBpO1xuICAgICAgc3R5bGVzSW5ET00uc3BsaWNlKGksIDAsIHtcbiAgICAgICAgaWRlbnRpZmllcjogaWRlbnRpZmllcixcbiAgICAgICAgdXBkYXRlcjogdXBkYXRlcixcbiAgICAgICAgcmVmZXJlbmNlczogMVxuICAgICAgfSk7XG4gICAgfVxuICAgIGlkZW50aWZpZXJzLnB1c2goaWRlbnRpZmllcik7XG4gIH1cbiAgcmV0dXJuIGlkZW50aWZpZXJzO1xufVxuZnVuY3Rpb24gYWRkRWxlbWVudFN0eWxlKG9iaiwgb3B0aW9ucykge1xuICB2YXIgYXBpID0gb3B0aW9ucy5kb21BUEkob3B0aW9ucyk7XG4gIGFwaS51cGRhdGUob2JqKTtcbiAgdmFyIHVwZGF0ZXIgPSBmdW5jdGlvbiB1cGRhdGVyKG5ld09iaikge1xuICAgIGlmIChuZXdPYmopIHtcbiAgICAgIGlmIChuZXdPYmouY3NzID09PSBvYmouY3NzICYmIG5ld09iai5tZWRpYSA9PT0gb2JqLm1lZGlhICYmIG5ld09iai5zb3VyY2VNYXAgPT09IG9iai5zb3VyY2VNYXAgJiYgbmV3T2JqLnN1cHBvcnRzID09PSBvYmouc3VwcG9ydHMgJiYgbmV3T2JqLmxheWVyID09PSBvYmoubGF5ZXIpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgYXBpLnVwZGF0ZShvYmogPSBuZXdPYmopO1xuICAgIH0gZWxzZSB7XG4gICAgICBhcGkucmVtb3ZlKCk7XG4gICAgfVxuICB9O1xuICByZXR1cm4gdXBkYXRlcjtcbn1cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGxpc3QsIG9wdGlvbnMpIHtcbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gIGxpc3QgPSBsaXN0IHx8IFtdO1xuICB2YXIgbGFzdElkZW50aWZpZXJzID0gbW9kdWxlc1RvRG9tKGxpc3QsIG9wdGlvbnMpO1xuICByZXR1cm4gZnVuY3Rpb24gdXBkYXRlKG5ld0xpc3QpIHtcbiAgICBuZXdMaXN0ID0gbmV3TGlzdCB8fCBbXTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxhc3RJZGVudGlmaWVycy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGlkZW50aWZpZXIgPSBsYXN0SWRlbnRpZmllcnNbaV07XG4gICAgICB2YXIgaW5kZXggPSBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKTtcbiAgICAgIHN0eWxlc0luRE9NW2luZGV4XS5yZWZlcmVuY2VzLS07XG4gICAgfVxuICAgIHZhciBuZXdMYXN0SWRlbnRpZmllcnMgPSBtb2R1bGVzVG9Eb20obmV3TGlzdCwgb3B0aW9ucyk7XG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGxhc3RJZGVudGlmaWVycy5sZW5ndGg7IF9pKyspIHtcbiAgICAgIHZhciBfaWRlbnRpZmllciA9IGxhc3RJZGVudGlmaWVyc1tfaV07XG4gICAgICB2YXIgX2luZGV4ID0gZ2V0SW5kZXhCeUlkZW50aWZpZXIoX2lkZW50aWZpZXIpO1xuICAgICAgaWYgKHN0eWxlc0luRE9NW19pbmRleF0ucmVmZXJlbmNlcyA9PT0gMCkge1xuICAgICAgICBzdHlsZXNJbkRPTVtfaW5kZXhdLnVwZGF0ZXIoKTtcbiAgICAgICAgc3R5bGVzSW5ET00uc3BsaWNlKF9pbmRleCwgMSk7XG4gICAgICB9XG4gICAgfVxuICAgIGxhc3RJZGVudGlmaWVycyA9IG5ld0xhc3RJZGVudGlmaWVycztcbiAgfTtcbn07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBtZW1vID0ge307XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuZnVuY3Rpb24gZ2V0VGFyZ2V0KHRhcmdldCkge1xuICBpZiAodHlwZW9mIG1lbW9bdGFyZ2V0XSA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgIHZhciBzdHlsZVRhcmdldCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGFyZ2V0KTtcblxuICAgIC8vIFNwZWNpYWwgY2FzZSB0byByZXR1cm4gaGVhZCBvZiBpZnJhbWUgaW5zdGVhZCBvZiBpZnJhbWUgaXRzZWxmXG4gICAgaWYgKHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCAmJiBzdHlsZVRhcmdldCBpbnN0YW5jZW9mIHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgLy8gVGhpcyB3aWxsIHRocm93IGFuIGV4Y2VwdGlvbiBpZiBhY2Nlc3MgdG8gaWZyYW1lIGlzIGJsb2NrZWRcbiAgICAgICAgLy8gZHVlIHRvIGNyb3NzLW9yaWdpbiByZXN0cmljdGlvbnNcbiAgICAgICAgc3R5bGVUYXJnZXQgPSBzdHlsZVRhcmdldC5jb250ZW50RG9jdW1lbnQuaGVhZDtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgLy8gaXN0YW5idWwgaWdub3JlIG5leHRcbiAgICAgICAgc3R5bGVUYXJnZXQgPSBudWxsO1xuICAgICAgfVxuICAgIH1cbiAgICBtZW1vW3RhcmdldF0gPSBzdHlsZVRhcmdldDtcbiAgfVxuICByZXR1cm4gbWVtb1t0YXJnZXRdO1xufVxuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cbmZ1bmN0aW9uIGluc2VydEJ5U2VsZWN0b3IoaW5zZXJ0LCBzdHlsZSkge1xuICB2YXIgdGFyZ2V0ID0gZ2V0VGFyZ2V0KGluc2VydCk7XG4gIGlmICghdGFyZ2V0KSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiQ291bGRuJ3QgZmluZCBhIHN0eWxlIHRhcmdldC4gVGhpcyBwcm9iYWJseSBtZWFucyB0aGF0IHRoZSB2YWx1ZSBmb3IgdGhlICdpbnNlcnQnIHBhcmFtZXRlciBpcyBpbnZhbGlkLlwiKTtcbiAgfVxuICB0YXJnZXQuYXBwZW5kQ2hpbGQoc3R5bGUpO1xufVxubW9kdWxlLmV4cG9ydHMgPSBpbnNlcnRCeVNlbGVjdG9yOyIsIlwidXNlIHN0cmljdFwiO1xuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cbmZ1bmN0aW9uIGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zKSB7XG4gIHZhciBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpO1xuICBvcHRpb25zLnNldEF0dHJpYnV0ZXMoZWxlbWVudCwgb3B0aW9ucy5hdHRyaWJ1dGVzKTtcbiAgb3B0aW9ucy5pbnNlcnQoZWxlbWVudCwgb3B0aW9ucy5vcHRpb25zKTtcbiAgcmV0dXJuIGVsZW1lbnQ7XG59XG5tb2R1bGUuZXhwb3J0cyA9IGluc2VydFN0eWxlRWxlbWVudDsiLCJcInVzZSBzdHJpY3RcIjtcblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5mdW5jdGlvbiBzZXRBdHRyaWJ1dGVzV2l0aG91dEF0dHJpYnV0ZXMoc3R5bGVFbGVtZW50KSB7XG4gIHZhciBub25jZSA9IHR5cGVvZiBfX3dlYnBhY2tfbm9uY2VfXyAhPT0gXCJ1bmRlZmluZWRcIiA/IF9fd2VicGFja19ub25jZV9fIDogbnVsbDtcbiAgaWYgKG5vbmNlKSB7XG4gICAgc3R5bGVFbGVtZW50LnNldEF0dHJpYnV0ZShcIm5vbmNlXCIsIG5vbmNlKTtcbiAgfVxufVxubW9kdWxlLmV4cG9ydHMgPSBzZXRBdHRyaWJ1dGVzV2l0aG91dEF0dHJpYnV0ZXM7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuZnVuY3Rpb24gYXBwbHkoc3R5bGVFbGVtZW50LCBvcHRpb25zLCBvYmopIHtcbiAgdmFyIGNzcyA9IFwiXCI7XG4gIGlmIChvYmouc3VwcG9ydHMpIHtcbiAgICBjc3MgKz0gXCJAc3VwcG9ydHMgKFwiLmNvbmNhdChvYmouc3VwcG9ydHMsIFwiKSB7XCIpO1xuICB9XG4gIGlmIChvYmoubWVkaWEpIHtcbiAgICBjc3MgKz0gXCJAbWVkaWEgXCIuY29uY2F0KG9iai5tZWRpYSwgXCIge1wiKTtcbiAgfVxuICB2YXIgbmVlZExheWVyID0gdHlwZW9mIG9iai5sYXllciAhPT0gXCJ1bmRlZmluZWRcIjtcbiAgaWYgKG5lZWRMYXllcikge1xuICAgIGNzcyArPSBcIkBsYXllclwiLmNvbmNhdChvYmoubGF5ZXIubGVuZ3RoID4gMCA/IFwiIFwiLmNvbmNhdChvYmoubGF5ZXIpIDogXCJcIiwgXCIge1wiKTtcbiAgfVxuICBjc3MgKz0gb2JqLmNzcztcbiAgaWYgKG5lZWRMYXllcikge1xuICAgIGNzcyArPSBcIn1cIjtcbiAgfVxuICBpZiAob2JqLm1lZGlhKSB7XG4gICAgY3NzICs9IFwifVwiO1xuICB9XG4gIGlmIChvYmouc3VwcG9ydHMpIHtcbiAgICBjc3MgKz0gXCJ9XCI7XG4gIH1cbiAgdmFyIHNvdXJjZU1hcCA9IG9iai5zb3VyY2VNYXA7XG4gIGlmIChzb3VyY2VNYXAgJiYgdHlwZW9mIGJ0b2EgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICBjc3MgKz0gXCJcXG4vKiMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247YmFzZTY0LFwiLmNvbmNhdChidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShzb3VyY2VNYXApKSkpLCBcIiAqL1wiKTtcbiAgfVxuXG4gIC8vIEZvciBvbGQgSUVcbiAgLyogaXN0YW5idWwgaWdub3JlIGlmICAqL1xuICBvcHRpb25zLnN0eWxlVGFnVHJhbnNmb3JtKGNzcywgc3R5bGVFbGVtZW50LCBvcHRpb25zLm9wdGlvbnMpO1xufVxuZnVuY3Rpb24gcmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlRWxlbWVudCkge1xuICAvLyBpc3RhbmJ1bCBpZ25vcmUgaWZcbiAgaWYgKHN0eWxlRWxlbWVudC5wYXJlbnROb2RlID09PSBudWxsKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHN0eWxlRWxlbWVudC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHN0eWxlRWxlbWVudCk7XG59XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuZnVuY3Rpb24gZG9tQVBJKG9wdGlvbnMpIHtcbiAgaWYgKHR5cGVvZiBkb2N1bWVudCA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgIHJldHVybiB7XG4gICAgICB1cGRhdGU6IGZ1bmN0aW9uIHVwZGF0ZSgpIHt9LFxuICAgICAgcmVtb3ZlOiBmdW5jdGlvbiByZW1vdmUoKSB7fVxuICAgIH07XG4gIH1cbiAgdmFyIHN0eWxlRWxlbWVudCA9IG9wdGlvbnMuaW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMpO1xuICByZXR1cm4ge1xuICAgIHVwZGF0ZTogZnVuY3Rpb24gdXBkYXRlKG9iaikge1xuICAgICAgYXBwbHkoc3R5bGVFbGVtZW50LCBvcHRpb25zLCBvYmopO1xuICAgIH0sXG4gICAgcmVtb3ZlOiBmdW5jdGlvbiByZW1vdmUoKSB7XG4gICAgICByZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGVFbGVtZW50KTtcbiAgICB9XG4gIH07XG59XG5tb2R1bGUuZXhwb3J0cyA9IGRvbUFQSTsiLCJcInVzZSBzdHJpY3RcIjtcblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5mdW5jdGlvbiBzdHlsZVRhZ1RyYW5zZm9ybShjc3MsIHN0eWxlRWxlbWVudCkge1xuICBpZiAoc3R5bGVFbGVtZW50LnN0eWxlU2hlZXQpIHtcbiAgICBzdHlsZUVsZW1lbnQuc3R5bGVTaGVldC5jc3NUZXh0ID0gY3NzO1xuICB9IGVsc2Uge1xuICAgIHdoaWxlIChzdHlsZUVsZW1lbnQuZmlyc3RDaGlsZCkge1xuICAgICAgc3R5bGVFbGVtZW50LnJlbW92ZUNoaWxkKHN0eWxlRWxlbWVudC5maXJzdENoaWxkKTtcbiAgICB9XG4gICAgc3R5bGVFbGVtZW50LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcykpO1xuICB9XG59XG5tb2R1bGUuZXhwb3J0cyA9IHN0eWxlVGFnVHJhbnNmb3JtOyIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0aWQ6IG1vZHVsZUlkLFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0obW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCIvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuX193ZWJwYWNrX3JlcXVpcmVfXy5uID0gKG1vZHVsZSkgPT4ge1xuXHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cblx0XHQoKSA9PiAobW9kdWxlWydkZWZhdWx0J10pIDpcblx0XHQoKSA9PiAobW9kdWxlKTtcblx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgeyBhOiBnZXR0ZXIgfSk7XG5cdHJldHVybiBnZXR0ZXI7XG59OyIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSkiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm5jID0gdW5kZWZpbmVkOyIsImNvbnN0IFNoaXAgPSAobGVuZ3RoLCByb3csIGNvbCwgYXhpcykgPT4ge1xyXG4gIC8vIGhpdHMgc3RhcnQgYXQgMFxyXG4gIGxldCBoaXRzID0gMDtcclxuXHJcbiAgY29uc3QgZ2V0Q2VsbHMgPSAoKSA9PiB7XHJcbiAgICBjb25zdCBjZWxscyA9IFtdO1xyXG4gICAgaWYgKGF4aXMgPT09IFwiaG9yaXpvbnRhbFwiKSB7XHJcbiAgICAgIGZvciAobGV0IGkgPSBjb2wsIGogPSAwOyBqIDwgbGVuZ3RoOyBpICs9IDEsIGogKz0gMSkge1xyXG4gICAgICAgIGNlbGxzLnB1c2goW3JvdywgaV0pO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGF4aXMgPT09IFwidmVydGljYWxcIikge1xyXG4gICAgICBmb3IgKGxldCBpID0gcm93LCBqID0gMDsgaiA8IGxlbmd0aDsgaSArPSAxLCBqICs9IDEpIHtcclxuICAgICAgICBjZWxscy5wdXNoKFtpLCBjb2xdKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBjZWxscztcclxuICB9O1xyXG5cclxuICAvLyBpbmNyZW1lbnRzIG51bWJlciBvZiBoaXRzIG9uIGEgc2hpcFxyXG4gIGNvbnN0IGhpdCA9ICgpID0+IHtcclxuICAgIGhpdHMgKz0gMTtcclxuICB9O1xyXG5cclxuICAvLyByZXR1cm5zIG51bWJlciBvZiBoaXRzXHJcbiAgY29uc3QgZ2V0SGl0cyA9ICgpID0+IGhpdHM7XHJcblxyXG4gIC8vIGRldGVybWluZXMgaWYgYSBzaGlwIGhhcyBzdW5rXHJcbiAgY29uc3QgaXNTdW5rID0gKCkgPT4gbGVuZ3RoID09PSBoaXRzO1xyXG5cclxuICByZXR1cm4geyBsZW5ndGgsIGhpdCwgZ2V0SGl0cywgaXNTdW5rLCByb3csIGNvbCwgYXhpcywgZ2V0Q2VsbHMgfTtcclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IFNoaXA7XHJcbiIsIi8qIGVzbGludC1kaXNhYmxlIG5vLXNoYWRvdyAqL1xyXG5pbXBvcnQgR2FtZWJvYXJkIGZyb20gXCIuL0dhbWVib2FyZFwiO1xyXG5cclxuY29uc3QgUGxheWVyID0gKG5hbWUpID0+IHtcclxuICBjb25zdCBib2FyZCA9IEdhbWVib2FyZCgpO1xyXG5cclxuICBjb25zdCBzZW5kQXR0YWNrID0gKGJvYXJkLCBjb29yZHMpID0+IHtcclxuICAgIGNvbnN0IFtyb3csIGNvbF0gPSBjb29yZHM7XHJcblxyXG4gICAgYm9hcmQucmVjZWl2ZUF0dGFjayhyb3csIGNvbCk7XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgZ2V0UmFuZG9tTW92ZSA9ICgpID0+IHtcclxuICAgIGNvbnN0IHJvdyA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwKTtcclxuICAgIGNvbnN0IGNvbCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwKTtcclxuXHJcbiAgICByZXR1cm4gW3JvdywgY29sXTtcclxuICB9O1xyXG5cclxuICBjb25zdCBnZXRCb2FyZCA9ICgpID0+IGJvYXJkO1xyXG5cclxuICByZXR1cm4ge1xyXG4gICAgc2VuZEF0dGFjayxcclxuICAgIGdldFJhbmRvbU1vdmUsXHJcbiAgICBnZXRCb2FyZCxcclxuICAgIG5hbWUsXHJcbiAgfTtcclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IFBsYXllcjtcclxuIiwiLyogZXNsaW50LWRpc2FibGUgbm8tcmVzdHJpY3RlZC1zeW50YXggKi9cclxuaW1wb3J0IFNoaXAgZnJvbSBcIi4vU2hpcFwiO1xyXG5cclxuY29uc3QgR2FtZWJvYXJkID0gKCkgPT4ge1xyXG4gIC8vIGtlZXAgdHJhY2sgb2Ygd2hlcmUgbW92ZXMgd2VyZSBtYWRlXHJcbiAgY29uc3QgbW92ZXMgPSBbXTtcclxuXHJcbiAgLy8ga2VlcHMgdHJhY2sgb2Ygc2hpcHMgb24gdGhlIGJvYXJkXHJcbiAgbGV0IHNoaXBzID0gW107XHJcblxyXG4gIC8vIENyZWF0ZXMgYm9hcmQuIFNwb3RzIHRoYXQgaGF2ZW4ndCBiZWVuIGNoZWNrZWQgYXJlIG51bGwuXHJcbiAgY29uc3QgY3JlYXRlQm9hcmQgPSAoKSA9PiB7XHJcbiAgICBjb25zdCBicmQgPSBbXTtcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMTA7IGkgKz0gMSkge1xyXG4gICAgICBjb25zdCByb3cgPSBbXTtcclxuICAgICAgZm9yIChsZXQgY29sID0gMDsgY29sIDwgMTA7IGNvbCArPSAxKSB7XHJcbiAgICAgICAgcm93W2NvbF0gPSBudWxsO1xyXG4gICAgICB9XHJcbiAgICAgIGJyZC5wdXNoKHJvdyk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGJyZDtcclxuICB9O1xyXG5cclxuICAvLyBjcmVhdGVzIGEgbmV3IGJvYXJkXHJcbiAgY29uc3QgYm9hcmQgPSBjcmVhdGVCb2FyZCgpO1xyXG5cclxuICAvLyBnZXQgY3VycmVudCBib2FyZCBjZWxsc1xyXG4gIGNvbnN0IGdldENlbGxzID0gKCkgPT4gYm9hcmQ7XHJcblxyXG4gIC8vIHNldCBzdXJyb3VuZGluZyBwb3NpdGlvbnMgb2Ygc2hpcCB0byBlcXVhbCAwIGFuZCBhZGQgaW5kZXggdG8gYXJyYXlcclxuICBjb25zdCBtYXJrU3Vycm91bmRpbmdQb3NpdGlvbnMgPSAoc2hpcCkgPT4ge1xyXG4gICAgc2hpcC5nZXRDZWxscygpLmZvckVhY2goKGNlbGwpID0+IHtcclxuICAgICAgY29uc3QgW3JvdywgY29sXSA9IGNlbGw7XHJcbiAgICAgIGZvciAobGV0IGkgPSByb3cgLSAxOyBpIDw9IHJvdyArIDE7IGkgKz0gMSkge1xyXG4gICAgICAgIGZvciAobGV0IGogPSBjb2wgLSAxOyBqIDw9IGNvbCArIDE7IGogKz0gMSkge1xyXG4gICAgICAgICAgaWYgKGkgPj0gMCAmJiBpIDw9IDkgJiYgaiA+PSAwICYmIGogPD0gOSAmJiBib2FyZFtpXVtqXSA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICBib2FyZFtpXVtqXSA9IDA7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9O1xyXG5cclxuICAvLyBQbGFjZXMgYSBzaGlwIGF0IHNwZWNpZmllZCBjb29yZGluYXRlcyBhbmQgb24gYSBzcGVjaWZpZWQgYXhpc1xyXG4gIGNvbnN0IHBsYWNlU2hpcCA9IChzaGlwKSA9PiB7XHJcbiAgICBmb3IgKGNvbnN0IGNlbGwgb2Ygc2hpcC5nZXRDZWxscygpKSB7XHJcbiAgICAgIGNvbnN0IFtyb3csIGNvbF0gPSBjZWxsO1xyXG4gICAgICBib2FyZFtyb3ddW2NvbF0gPSBzaGlwO1xyXG4gICAgfVxyXG5cclxuICAgIG1hcmtTdXJyb3VuZGluZ1Bvc2l0aW9ucyhzaGlwKTtcclxuICAgIC8vIGFkZCBzaGlwIHRvIGFycmF5XHJcbiAgICBzaGlwcy5wdXNoKHNoaXApO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IHJlY2VpdmVBdHRhY2sgPSAocm93LCBjb2wpID0+IHtcclxuICAgIC8vIGFkZCBtb3ZlIHRvIG1vdmVzIGFycmF5XHJcbiAgICBtb3Zlcy5wdXNoKFtyb3csIGNvbF0pO1xyXG5cclxuICAgIGNvbnN0IHBvc2l0aW9uID0gYm9hcmRbcm93XVtjb2xdO1xyXG5cclxuICAgIC8vIGlmIGEgc2hpcCBleGlzdHMgYXQgdGhlIHBvc2l0aW9uLCBoaXQgaXRcclxuICAgIGlmIChwb3NpdGlvbikge1xyXG4gICAgICBwb3NpdGlvbi5oaXQoKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICBjb25zdCBnZXRBbGxNb3ZlcyA9ICgpID0+IG1vdmVzO1xyXG5cclxuICBjb25zdCBhbGxTaGlwc1N1bmsgPSAoKSA9PiBzaGlwcy5ldmVyeSgoc2hpcCkgPT4gc2hpcC5pc1N1bmsoKSk7XHJcblxyXG4gIGNvbnN0IGdldFN1cnJvdW5kaW5nUG9zaXRpb25zID0gKCkgPT4ge1xyXG4gICAgY29uc3Qgc3Vycm91bmRpbmdQb3NpdGlvbnMgPSBbXTtcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMTA7IGkgKz0gMSkge1xyXG4gICAgICBmb3IgKGxldCBqID0gMDsgaiA8IDEwOyBqICs9IDEpIHtcclxuICAgICAgICBpZiAoYm9hcmRbaV1bal0gPT09IDApIHN1cnJvdW5kaW5nUG9zaXRpb25zLnB1c2goW2ksIGpdKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHN1cnJvdW5kaW5nUG9zaXRpb25zO1xyXG4gIH07XHJcblxyXG4gIC8vIGdldCBwb3NpdGlvbnMgdGhhdCBoYXZlIGEgc2hpcCBvbiB0aGVtXHJcbiAgY29uc3QgZ2V0VGFrZW5Qb3NpdGlvbnMgPSAoKSA9PiB7XHJcbiAgICBjb25zdCB0YWtlblBvc2l0aW9ucyA9IFtdO1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCAxMDsgaSArPSAxKSB7XHJcbiAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgMTA7IGogKz0gMSkge1xyXG4gICAgICAgIGlmIChib2FyZFtpXVtqXSkgdGFrZW5Qb3NpdGlvbnMucHVzaChbaSwgal0pO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdGFrZW5Qb3NpdGlvbnM7XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgZ2V0U2hpcHMgPSAoKSA9PiBzaGlwcztcclxuXHJcbiAgLyogQ2hlY2s6XHJcbiAgMS4gU2hpcHMgZG9uJ3Qgb3ZlcmxhcFxyXG4gIDIuIFNoaXBzIHN0YXkgb24gYm9hcmRcclxuICAzLiBBdCBsZWFzdCBvbmUgc3BhY2UgYmV0d2VlbiBhbGwgc2hpcHNcclxuICAqL1xyXG5cclxuICBjb25zdCBpc1ZhbGlkUGxhY2VtZW50ID0gKHNoaXApID0+IHtcclxuICAgIGNvbnN0IGNlbGxzID0gc2hpcC5nZXRDZWxscygpO1xyXG5cclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2VsbHMubGVuZ3RoOyBpICs9IDEpIHtcclxuICAgICAgaWYgKFxyXG4gICAgICAgIGdldFN1cnJvdW5kaW5nUG9zaXRpb25zKCkuc29tZShcclxuICAgICAgICAgIChwb3NpdGlvbikgPT5cclxuICAgICAgICAgICAgcG9zaXRpb25bMF0gPT09IGNlbGxzW2ldWzBdICYmIHBvc2l0aW9uWzFdID09PSBjZWxsc1tpXVsxXVxyXG4gICAgICAgICkgfHxcclxuICAgICAgICBnZXRUYWtlblBvc2l0aW9ucygpLnNvbWUoXHJcbiAgICAgICAgICAocG9zaXRpb24pID0+XHJcbiAgICAgICAgICAgIHBvc2l0aW9uWzBdID09PSBjZWxsc1tpXVswXSAmJiBwb3NpdGlvblsxXSA9PT0gY2VsbHNbaV1bMV1cclxuICAgICAgICApIHx8XHJcbiAgICAgICAgY2VsbHNbaV1bMF0gPiA5IHx8XHJcbiAgICAgICAgY2VsbHNbaV1bMV0gPiA5XHJcbiAgICAgIClcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHRydWU7XHJcbiAgfTtcclxuXHJcbiAgLy8gcmVzZXQgZWFjaCBib2FyZCBwb3NpdGlvbiB0byBudWxsIGFuZCByZXNldCBzaGlwcyBhcnJheVxyXG4gIGNvbnN0IHJlbW92ZVNoaXBzID0gKCkgPT4ge1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCAxMDsgaSArPSAxKSB7XHJcbiAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgMTA7IGogKz0gMSkge1xyXG4gICAgICAgIGJvYXJkW2ldW2pdID0gbnVsbDtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHNoaXBzID0gW107XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgcmFuZG9taXplU2hpcHMgPSAoKSA9PiB7XHJcbiAgICAvLyBpZiB0aGVyZSBhcmUgc2hpcHMgb24gdGhlIGJvYXJkLCByZW1vdmUgdGhlbVxyXG4gICAgcmVtb3ZlU2hpcHMoKTtcclxuXHJcbiAgICBjb25zdCBzaGlwTGVuZ3RocyA9IFsyLCAzLCAzLCA0LCA1XTtcclxuXHJcbiAgICAvLyB3aGlsZSB0aGVyZSBhcmUgc2hpcHMgbGVmdCB0byBwbGFjZVxyXG4gICAgd2hpbGUgKHNoaXBMZW5ndGhzLmxlbmd0aCkge1xyXG4gICAgICBjb25zdCBsZW5ndGggPSBzaGlwTGVuZ3Rocy5wb3AoKTtcclxuXHJcbiAgICAgIGxldCByb3cgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMCk7XHJcbiAgICAgIGxldCBjb2wgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMCk7XHJcblxyXG4gICAgICAvLyBJZiAxOiBWZXJ0aWNhbC4gSWYgMDogSG9yaXpvbnRhbFxyXG4gICAgICBjb25zdCBheGlzID0gTWF0aC5yb3VuZChNYXRoLnJhbmRvbSgpKSA/IFwidmVydGljYWxcIiA6IFwiaG9yaXpvbnRhbFwiO1xyXG5cclxuICAgICAgbGV0IHNoaXAgPSBTaGlwKGxlbmd0aCwgcm93LCBjb2wsIGF4aXMpO1xyXG5cclxuICAgICAgLy8gd2hpbGUgc2hpcCBwbGFjZW1lbnQgaXNuJ3QgdmFsaWQgY2hhbmdlIGl0cyBwb3NpdGlvblxyXG4gICAgICB3aGlsZSAoIWlzVmFsaWRQbGFjZW1lbnQoc2hpcCkpIHtcclxuICAgICAgICByb3cgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMCk7XHJcbiAgICAgICAgY29sID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTApO1xyXG4gICAgICAgIHNoaXAgPSBTaGlwKGxlbmd0aCwgcm93LCBjb2wsIGF4aXMpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBwbGFjZSBzaGlwXHJcbiAgICAgIHBsYWNlU2hpcChzaGlwKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICByZXR1cm4ge1xyXG4gICAgZ2V0Q2VsbHMsXHJcbiAgICBwbGFjZVNoaXAsXHJcbiAgICByZWNlaXZlQXR0YWNrLFxyXG4gICAgYWxsU2hpcHNTdW5rLFxyXG4gICAgZ2V0QWxsTW92ZXMsXHJcbiAgICBnZXRUYWtlblBvc2l0aW9ucyxcclxuICAgIGdldFNoaXBzLFxyXG4gICAgcmFuZG9taXplU2hpcHMsXHJcbiAgICBnZXRTdXJyb3VuZGluZ1Bvc2l0aW9ucyxcclxuICAgIHJlbW92ZVNoaXBzLFxyXG4gIH07XHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCBHYW1lYm9hcmQ7XHJcbiIsImltcG9ydCBQbGF5ZXIgZnJvbSBcIi4vUGxheWVyXCI7XHJcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBpbXBvcnQvbm8tY3ljbGVcclxuaW1wb3J0IERPTSBmcm9tIFwiLi9ET01cIjtcclxuXHJcbmNvbnN0IEdhbWUgPSAoKCkgPT4ge1xyXG4gIC8vIGNyZWF0ZSBvYmplY3RzXHJcbiAgbGV0IHBsYXllciA9IFBsYXllcigpO1xyXG4gIGxldCBlbmVteSA9IFBsYXllcigpO1xyXG5cclxuICBsZXQgcGxheWVyQm9hcmQgPSBwbGF5ZXIuZ2V0Qm9hcmQoKTtcclxuICBsZXQgZW5lbXlCb2FyZCA9IGVuZW15LmdldEJvYXJkKCk7XHJcblxyXG4gIGNvbnN0IGdldFBsYXllciA9ICgpID0+IHBsYXllcjtcclxuXHJcbiAgY29uc3QgZ2V0RW5lbXkgPSAoKSA9PiBlbmVteTtcclxuXHJcbiAgY29uc3Qgc3dpdGNoVHVybiA9ICgpID0+IHtcclxuICAgIGlmIChwbGF5ZXIuaXNUdXJuKCkpIHtcclxuICAgICAgcGxheWVyLmVuZFR1cm4oKTtcclxuICAgICAgZW5lbXkuc3RhcnRUdXJuKCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBlbmVteS5lbmRUdXJuKCk7XHJcbiAgICAgIHBsYXllci5zdGFydFR1cm4oKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICBjb25zdCBpc092ZXIgPSAoKSA9PiBwbGF5ZXJCb2FyZC5hbGxTaGlwc1N1bmsoKSB8fCBlbmVteUJvYXJkLmFsbFNoaXBzU3VuaygpO1xyXG5cclxuICBjb25zdCBnZXRXaW5uZXIgPSAoKSA9PiAocGxheWVyQm9hcmQuYWxsU2hpcHNTdW5rKCkgPyBlbmVteSA6IHBsYXllcik7XHJcblxyXG4gIGNvbnN0IHBsYXlSb3VuZCA9IChjZWxsLCBwbGF5ZXJCb2FyZENvbnRhaW5lcikgPT4ge1xyXG4gICAgbGV0IHJvdyA9IHBhcnNlSW50KGNlbGwuZGF0YXNldC5yb3csIDEwKTtcclxuICAgIGxldCBjb2wgPSBwYXJzZUludChjZWxsLmRhdGFzZXQuY29sLCAxMCk7XHJcblxyXG4gICAgLy8gcGxheWVyIG1ha2VzIG1vdmVcclxuICAgIHBsYXllci5zZW5kQXR0YWNrKGVuZW15Qm9hcmQsIFtyb3csIGNvbF0pO1xyXG5cclxuICAgIERPTS51cGRhdGVDZWxsU3RhdGUoZW5lbXlCb2FyZCwgY2VsbCk7XHJcblxyXG4gICAgLy8gaWYgdGhlIGF0dGFjayBtaXNzZWQgYW5kIHRoZSBnYW1lIGlzIG5vdCBvdmVyLCBzd2l0Y2ggdHVybnNcclxuICAgIGlmICghZW5lbXlCb2FyZC5nZXRDZWxscygpW3Jvd11bY29sXSAmJiAhaXNPdmVyKCkpIHtcclxuICAgICAgLy8gZW5lbXkgdGFrZXMgc2hvdHMgdW50aWwgdGhleSBtaXNzIG9yIHRoZSBnYW1lIGVuZHNcclxuICAgICAgZG8ge1xyXG4gICAgICAgIC8vIHdoaWxlIHRoZXJlIGlzIG5vdCBhIG5ldyBtb3ZlIGdlbmVyYXRlZCwgZ2VuZXJhdGUgYSBuZXcgbW92ZVxyXG4gICAgICAgIGxldCByYW5kb21Qb3NpdGlvbjtcclxuICAgICAgICBkbyB7XHJcbiAgICAgICAgICAvLyBnZXQgcmFuZG9tIHBvc2l0aW9uIGZvciBlbmVteSBtb3ZlXHJcbiAgICAgICAgICByYW5kb21Qb3NpdGlvbiA9IGVuZW15LmdldFJhbmRvbU1vdmUoKTtcclxuICAgICAgICB9IHdoaWxlIChcclxuICAgICAgICAgIHBsYXllckJvYXJkLmdldEFsbE1vdmVzKCkuc29tZShcclxuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWxvb3AtZnVuY1xyXG4gICAgICAgICAgICAocG9zaXRpb24pID0+XHJcbiAgICAgICAgICAgICAgcG9zaXRpb25bMF0gPT09IHJhbmRvbVBvc2l0aW9uWzBdICYmXHJcbiAgICAgICAgICAgICAgcG9zaXRpb25bMV0gPT09IHJhbmRvbVBvc2l0aW9uWzFdXHJcbiAgICAgICAgICApXHJcbiAgICAgICAgKTtcclxuXHJcbiAgICAgICAgZW5lbXkuc2VuZEF0dGFjayhwbGF5ZXJCb2FyZCwgcmFuZG9tUG9zaXRpb24pO1xyXG5cclxuICAgICAgICBbcm93LCBjb2xdID0gcmFuZG9tUG9zaXRpb247XHJcblxyXG4gICAgICAgIC8vIHVwZGF0ZSBwbGF5ZXIgYm9hcmQgYWZ0ZXIgZW5lbXkncyB0dXJuIGlmIHRoZXkgaGl0IGEgc2hvdCB0aGF0cyBub3QgYSBzdXJyb3VuZGluZyBwb3NpdGlvbiBhbmQgdGhlIGdhbWUgaXMgbm90IG92ZXJcclxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cclxuICAgICAgICBjZWxsID0gcGxheWVyQm9hcmRDb250YWluZXIucXVlcnlTZWxlY3RvcihcclxuICAgICAgICAgIGAuY2VsbFtkYXRhLXJvdz1cIiR7cm93fVwiXVtkYXRhLWNvbD1cIiR7Y29sfVwiXWBcclxuICAgICAgICApO1xyXG4gICAgICAgIERPTS51cGRhdGVDZWxsU3RhdGUocGxheWVyQm9hcmQsIGNlbGwpO1xyXG4gICAgICB9IHdoaWxlIChwbGF5ZXJCb2FyZC5nZXRDZWxscygpW3Jvd11bY29sXSAmJiAhaXNPdmVyKCkpO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHdpbm5lciA9IGdldFdpbm5lcigpO1xyXG5cclxuICAgIC8vIElmIHRoZSBnYW1lIGlzIG92ZXIsIHVwZGF0ZSB0aGUgbWVzc2FnZSBhY2NvcmRpbmdseS5cclxuICAgIGlmIChpc092ZXIoKSkgRE9NLnVwZGF0ZU1lc3NhZ2UoYEdhbWUgT3ZlciEgV2lubmVyOiAke3dpbm5lci5uYW1lfWApO1xyXG4gIH07XHJcblxyXG4gIC8vIGluaXRpYWxpemUgb2JqZWN0cyBmb3IgbmV3IGdhbWVcclxuICBjb25zdCBpbml0aWFsaXplT2JqZWN0cyA9ICgpID0+IHtcclxuICAgIHBsYXllciA9IFBsYXllcihcIllvdVwiKTtcclxuICAgIGVuZW15ID0gUGxheWVyKFwiT3Bwb25lbnRcIik7XHJcbiAgICBwbGF5ZXJCb2FyZCA9IHBsYXllci5nZXRCb2FyZCgpO1xyXG4gICAgZW5lbXlCb2FyZCA9IGVuZW15LmdldEJvYXJkKCk7XHJcblxyXG4gICAgLy8gcmFuZG9tbHkgYWRkIHNoaXBzIHRvIGVhY2ggYm9hcmRcclxuICAgIHBsYXllckJvYXJkLnJhbmRvbWl6ZVNoaXBzKCk7XHJcbiAgICBlbmVteUJvYXJkLnJhbmRvbWl6ZVNoaXBzKCk7XHJcbiAgfTtcclxuXHJcbiAgcmV0dXJuIHtcclxuICAgIGdldFBsYXllcixcclxuICAgIGdldEVuZW15LFxyXG4gICAgaXNPdmVyLFxyXG4gICAgcGxheVJvdW5kLFxyXG4gICAgc3dpdGNoVHVybixcclxuICAgIGluaXRpYWxpemVPYmplY3RzLFxyXG4gIH07XHJcbn0pKCk7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBHYW1lO1xyXG5cclxuLy8gZmFjdG9yeSBmdW5jdGlvbiB0aGF0IGhhcyBzdGF0ZSBhbmQgZnVuY3Rpb25zLlxyXG4vLyBET00gbmVlZHMgdG8gY2FsbCBmcm9tIHlvdXIgZ2FtZSBvYmplY3QgdG8gc3RhcnQgdGhlIGdhbWUsIHdoYXQgZ2FtZSBvYmplY3Qgd291bGQgZG8gd2hlbiBhIGNlbGwgaXMgY2xpY2tlZCBpbiB0aGUgVUkuXHJcbi8vIG1ha2UgYWN0aW9uIGFuZCByZXRyaWV2ZSBzdGF0ZXNcclxuLy8gVXBkYXRlIGJvYXJkIHN0YXRlc1xyXG4iLCIvKiBlc2xpbnQtZGlzYWJsZSBuby1yZXN0cmljdGVkLXN5bnRheCAqL1xyXG4vKiBlc2xpbnQtZGlzYWJsZSBuby1zaGFkb3cgKi9cclxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGltcG9ydC9uby1jeWNsZVxyXG5pbXBvcnQgR2FtZSBmcm9tIFwiLi9HYW1lXCI7XHJcblxyXG5jb25zdCBET00gPSAoKCkgPT4ge1xyXG4gIGNvbnN0IGJvYXJkQ29udGFpbmVycyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuYm9hcmRcIik7XHJcbiAgY29uc3QgcGxheWVyQm9hcmRDb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInBsYXllci1ib2FyZFwiKTtcclxuICBjb25zdCBlbmVteUJvYXJkQ29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJlbmVteS1ib2FyZFwiKTtcclxuICBjb25zdCBwbGF5QnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwbGF5LWJ1dHRvblwiKTtcclxuICBjb25zdCByZXNldEJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicmVzZXQtYnV0dG9uXCIpO1xyXG4gIGNvbnN0IHJhbmRvbUJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicmFuZG9tLWJ1dHRvblwiKTtcclxuICBjb25zdCBtZXNzYWdlQ29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtZXNzYWdlXCIpO1xyXG5cclxuICBjb25zdCBhZGRCb2FyZENlbGxzID0gKCkgPT4ge1xyXG4gICAgYm9hcmRDb250YWluZXJzLmZvckVhY2goKGJvYXJkKSA9PiB7XHJcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMTA7IGkgKz0gMSkge1xyXG4gICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgMTA7IGogKz0gMSkge1xyXG4gICAgICAgICAgY29uc3QgY2VsbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbiAgICAgICAgICBjZWxsLmNsYXNzTGlzdC5hZGQoXCJjZWxsXCIpO1xyXG4gICAgICAgICAgY2VsbC5zZXRBdHRyaWJ1dGUoXCJkYXRhLXJvd1wiLCBpKTtcclxuICAgICAgICAgIGNlbGwuc2V0QXR0cmlidXRlKFwiZGF0YS1jb2xcIiwgaik7XHJcbiAgICAgICAgICBib2FyZC5hcHBlbmRDaGlsZChjZWxsKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH07XHJcblxyXG4gIC8vIGNsZWFyIGV4aXN0aW5nIHNoaXBzIGZyb20gcGxheWVyIGJvYXJkIGRpc3BsYXlcclxuICBjb25zdCBjbGVhclNoaXBzID0gKCkgPT4ge1xyXG4gICAgY29uc3QgY2VsbHMgPSBwbGF5ZXJCb2FyZENvbnRhaW5lci5xdWVyeVNlbGVjdG9yQWxsKFwiLnNoaXBcIik7XHJcbiAgICBjZWxscy5mb3JFYWNoKChjZWxsKSA9PiBjZWxsLmNsYXNzTGlzdC5yZW1vdmUoXCJzaGlwXCIpKTtcclxuICB9O1xyXG5cclxuICAvLyBmdW5jdGlvbiB1c2VkIHRvIGRpc3BsYXkgcGxheWVyIHNoaXBzXHJcbiAgY29uc3QgZGlzcGxheVNoaXBzID0gKGJvYXJkKSA9PiB7XHJcbiAgICAvLyBjbGVhciBleGlzdGluZyBzaGlwc1xyXG4gICAgY2xlYXJTaGlwcygpO1xyXG5cclxuICAgIGZvciAoY29uc3Qgc2hpcCBvZiBib2FyZC5nZXRTaGlwcygpKSB7XHJcbiAgICAgIGlmIChzaGlwLmF4aXMgPT09IFwiaG9yaXpvbnRhbFwiKSB7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IHNoaXAuY29sLCBqID0gMDsgaiA8IHNoaXAubGVuZ3RoOyBpICs9IDEsIGogKz0gMSkge1xyXG4gICAgICAgICAgY29uc3QgdGFyZ2V0Q2VsbCA9IHBsYXllckJvYXJkQ29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgICAgICAgIGAuY2VsbFtkYXRhLXJvdz1cIiR7c2hpcC5yb3d9XCJdW2RhdGEtY29sPVwiJHtpfVwiXWBcclxuICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgdGFyZ2V0Q2VsbC5jbGFzc0xpc3QuYWRkKFwic2hpcFwiKTtcclxuICAgICAgICAgIHRhcmdldENlbGwuc2V0QXR0cmlidXRlKFwiZGF0YS1zaXplXCIsIHNoaXAubGVuZ3RoKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChzaGlwLmF4aXMgPT09IFwidmVydGljYWxcIikge1xyXG4gICAgICAgIGZvciAobGV0IGkgPSBzaGlwLnJvdywgaiA9IDA7IGogPCBzaGlwLmxlbmd0aDsgaSArPSAxLCBqICs9IDEpIHtcclxuICAgICAgICAgIGNvbnN0IHRhcmdldENlbGwgPSBwbGF5ZXJCb2FyZENvbnRhaW5lci5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICAgICAgICBgLmNlbGxbZGF0YS1yb3c9XCIke2l9XCJdW2RhdGEtY29sPVwiJHtzaGlwLmNvbH1cIl1gXHJcbiAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgIHRhcmdldENlbGwuY2xhc3NMaXN0LmFkZChcInNoaXBcIik7XHJcbiAgICAgICAgICB0YXJnZXRDZWxsLnNldEF0dHJpYnV0ZShcImRhdGEtc2l6ZVwiLCBzaGlwLmxlbmd0aCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgLy8gcmVtb3ZlcyBoaXQgYW5kIG1pc3MgbWFya2VycyBmcm9tIGJvYXJkXHJcbiAgY29uc3QgcmVzZXRCb2FyZFN0YXRlID0gKCkgPT4ge1xyXG4gICAgY29uc3QgY2VsbENvbnRhaW5lcnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmNlbGxcIik7XHJcblxyXG4gICAgY2VsbENvbnRhaW5lcnMuZm9yRWFjaCgoY2VsbCkgPT4ge1xyXG4gICAgICBpZiAoY2VsbC5jbGFzc0xpc3QuY29udGFpbnMoXCJoaXRcIikpIGNlbGwuY2xhc3NMaXN0LnJlbW92ZShcImhpdFwiKTtcclxuICAgICAgaWYgKGNlbGwuY2xhc3NMaXN0LmNvbnRhaW5zKFwibWlzc1wiKSkgY2VsbC5jbGFzc0xpc3QucmVtb3ZlKFwibWlzc1wiKTtcclxuICAgIH0pO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IHJldmVhbFN1cnJvdW5kaW5nQ2VsbHMgPSAoYm9hcmQsIGNlbGwpID0+IHtcclxuICAgIGNvbnN0IHJvdyA9IHBhcnNlSW50KGNlbGwuZGF0YXNldC5yb3csIDEwKTtcclxuICAgIGNvbnN0IGNvbCA9IHBhcnNlSW50KGNlbGwuZGF0YXNldC5jb2wsIDEwKTtcclxuXHJcbiAgICBjb25zdCBwYXJlbnQgPSBjZWxsLnBhcmVudEVsZW1lbnQ7XHJcblxyXG4gICAgLy8gZ2V0IHN1cnJvdW5kaW5nIGNvcm5lciBjZWxsc1xyXG4gICAgY29uc3Qgc3Vycm91bmRpbmdDb3JuZXJzID0gWy4uLnBhcmVudC5jaGlsZHJlbl0uZmlsdGVyKFxyXG4gICAgICAoc2libGluZykgPT5cclxuICAgICAgICBNYXRoLmFicyhyb3cgLSBzaWJsaW5nLmRhdGFzZXQucm93KSA9PT0gMSAmJlxyXG4gICAgICAgIE1hdGguYWJzKGNvbCAtIHNpYmxpbmcuZGF0YXNldC5jb2wpID09PSAxXHJcbiAgICApO1xyXG5cclxuICAgIC8vIFJldmVhbCBlYWNoIGNvcm5lclxyXG4gICAgc3Vycm91bmRpbmdDb3JuZXJzLmZvckVhY2goKGNvcm5lcikgPT4ge1xyXG4gICAgICBjb3JuZXIuY2xhc3NMaXN0LmFkZChcIm1pc3NcIik7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBJZiBzaGlwIGlzIHN1bmssIHJldmVhbCByZW1haW5pbmcgc2lkZXNcclxuICAgIGNvbnN0IHN1bmtTaGlwcyA9IGJvYXJkLmdldFNoaXBzKCkuZmlsdGVyKChzaGlwKSA9PiBzaGlwLmlzU3VuaygpKTtcclxuXHJcbiAgICBzdW5rU2hpcHMuZm9yRWFjaCgoc2hpcCkgPT4ge1xyXG4gICAgICBzaGlwLmdldENlbGxzKCkuZm9yRWFjaCgoY2VsbCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IFtyb3csIGNvbF0gPSBjZWxsO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSByb3cgLSAxOyBpIDw9IHJvdyArIDE7IGkgKz0gMSkge1xyXG4gICAgICAgICAgZm9yIChsZXQgaiA9IGNvbCAtIDE7IGogPD0gY29sICsgMTsgaiArPSAxKSB7XHJcbiAgICAgICAgICAgIGlmIChcclxuICAgICAgICAgICAgICBpID49IDAgJiZcclxuICAgICAgICAgICAgICBpIDw9IDkgJiZcclxuICAgICAgICAgICAgICBqID49IDAgJiZcclxuICAgICAgICAgICAgICBqIDw9IDkgJiZcclxuICAgICAgICAgICAgICBib2FyZC5nZXRDZWxscygpW2ldW2pdID09PSAwXHJcbiAgICAgICAgICAgICkge1xyXG4gICAgICAgICAgICAgIGNvbnN0IGNlbGxFbGVtZW50ID0gcGFyZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgICAgICAgICAgICBgLmNlbGxbZGF0YS1yb3c9XCIke2l9XCJdW2RhdGEtY29sPVwiJHtqfVwiXWBcclxuICAgICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgICAgICBjZWxsRWxlbWVudC5jbGFzc0xpc3QuYWRkKFwibWlzc1wiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICB9O1xyXG5cclxuICBjb25zdCB1cGRhdGVDZWxsU3RhdGUgPSAoYm9hcmQsIGNlbGwpID0+IHtcclxuICAgIC8vIGlmIHRoZSBjZWxsIGlzIHRha2VuIGFuZCBpdHMgbm90IGEgc3Vycm91bmRpbmcgcG9zaXRpb24sIGNyZWF0ZSBhIHZhcmlhYmxlIGZvciBpdFxyXG4gICAgY29uc3QgdGFrZW5DZWxsID0gYm9hcmRcclxuICAgICAgLmdldFRha2VuUG9zaXRpb25zKClcclxuICAgICAgLnNvbWUoXHJcbiAgICAgICAgKHBvc2l0aW9uKSA9PlxyXG4gICAgICAgICAgcG9zaXRpb25bMF0gPT09IHBhcnNlSW50KGNlbGwuZGF0YXNldC5yb3csIDEwKSAmJlxyXG4gICAgICAgICAgcG9zaXRpb25bMV0gPT09IHBhcnNlSW50KGNlbGwuZGF0YXNldC5jb2wsIDEwKVxyXG4gICAgICApO1xyXG5cclxuICAgIC8vIGFkZCBhcHByb3ByaWF0ZSBjbGFzcyB0byBjZWxsXHJcbiAgICBpZiAodGFrZW5DZWxsKSB7XHJcbiAgICAgIGNlbGwuY2xhc3NMaXN0LmFkZChcImhpdFwiKTtcclxuICAgICAgcmV2ZWFsU3Vycm91bmRpbmdDZWxscyhib2FyZCwgY2VsbCk7XHJcbiAgICB9IGVsc2UgY2VsbC5jbGFzc0xpc3QuYWRkKFwibWlzc1wiKTtcclxuICB9O1xyXG5cclxuICBjb25zdCBoYW5kbGVCb2FyZENsaWNrID0gKGUpID0+IHtcclxuICAgIGNvbnN0IGNlbGwgPSBlLnRhcmdldC5jbG9zZXN0KFwiLmNlbGxcIik7XHJcblxyXG4gICAgLy8gaWYgbm8gY2VsbCB3YXMgY2xpY2tlZCBkbyBub3RoaW5nXHJcbiAgICBpZiAoIWNlbGwpIHJldHVybjtcclxuXHJcbiAgICAvLyBkb24ndCBleGVjdXRlIGV2ZW50IGlmIGdhbWUgaXMgb3ZlciBPUiB0aGUgYm94IGhhcyBhbHJlYWR5IGJlZW4gY2xpY2tlZFxyXG4gICAgaWYgKFxyXG4gICAgICBHYW1lLmlzT3ZlcigpIHx8XHJcbiAgICAgIGNlbGwuY2xhc3NMaXN0LmNvbnRhaW5zKFwiaGl0XCIpIHx8XHJcbiAgICAgIGNlbGwuY2xhc3NMaXN0LmNvbnRhaW5zKFwibWlzc1wiKVxyXG4gICAgKVxyXG4gICAgICByZXR1cm47XHJcblxyXG4gICAgLy8gY2FsbCBwbGF5Um91bmQgYW5kIHBhc3MgRE9NIGl0ZW1zIGFzIGFyZ3VtZW50c1xyXG4gICAgR2FtZS5wbGF5Um91bmQoY2VsbCwgcGxheWVyQm9hcmRDb250YWluZXIpO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IHVwZGF0ZU1lc3NhZ2UgPSAobWVzc2FnZSkgPT4ge1xyXG4gICAgbWVzc2FnZUNvbnRhaW5lci50ZXh0Q29udGVudCA9IG1lc3NhZ2U7XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgaGFuZGxlUGxheUJ1dHRvbkNsaWNrID0gKCkgPT4ge1xyXG4gICAgLy8gaGlkZSB1bm5lZWRlZCBidXR0b25zXHJcbiAgICBwbGF5QnV0dG9uLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcclxuICAgIHJhbmRvbUJ1dHRvbi5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcbiAgICAvLyBhZGQgYm9hcmQgZXZlbnQgbGlzdGVuZXJcclxuICAgIGVuZW15Qm9hcmRDb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGhhbmRsZUJvYXJkQ2xpY2spO1xyXG4gICAgdXBkYXRlTWVzc2FnZShcIk1ha2UgeW91ciBtb3ZlIGJ5IGNsaWNraW5nIHRoZSBvcHBvbmVudCdzIGJvYXJkLlwiKTtcclxuICB9O1xyXG5cclxuICBjb25zdCBoYW5kbGVSYW5kb21CdXR0b25DbGljayA9ICgpID0+IHtcclxuICAgIEdhbWUuaW5pdGlhbGl6ZU9iamVjdHMoKTtcclxuICAgIGRpc3BsYXlTaGlwcyhHYW1lLmdldFBsYXllcigpLmdldEJvYXJkKCkpO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IGhhbmRsZVJlc2V0QnV0dG9uQ2xpY2sgPSAoKSA9PiB7XHJcbiAgICAvLyByZXNldCBnYW1lIHZhcmlhYmxlcyBhbmQgYm9hcmQgc3RhdGUgaGVyZVxyXG4gICAgcmVzZXRCb2FyZFN0YXRlKCk7XHJcbiAgICBHYW1lLmluaXRpYWxpemVPYmplY3RzKCk7XHJcbiAgICBkaXNwbGF5U2hpcHMoR2FtZS5nZXRQbGF5ZXIoKS5nZXRCb2FyZCgpKTtcclxuXHJcbiAgICAvLyByZW1vdmUgZXZlbnQgbGlzdGVuZXIgZm9yIGJvYXJkXHJcbiAgICBlbmVteUJvYXJkQ29udGFpbmVyLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBoYW5kbGVCb2FyZENsaWNrKTtcclxuICAgIC8vIHNob3cgcmVxdWlyZWQgYnV0dG9ucyBhZ2FpblxyXG4gICAgcGxheUJ1dHRvbi5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xyXG4gICAgcmFuZG9tQnV0dG9uLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XHJcbiAgICB1cGRhdGVNZXNzYWdlKFwiUGxhY2UgWW91ciBTaGlwc1wiKTtcclxuICB9O1xyXG5cclxuICBwbGF5QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBoYW5kbGVQbGF5QnV0dG9uQ2xpY2spO1xyXG5cclxuICByZXNldEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgaGFuZGxlUmVzZXRCdXR0b25DbGljayk7XHJcblxyXG4gIHJhbmRvbUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgaGFuZGxlUmFuZG9tQnV0dG9uQ2xpY2spO1xyXG5cclxuICByZXR1cm4ge1xyXG4gICAgYWRkQm9hcmRDZWxscyxcclxuICAgIGRpc3BsYXlTaGlwcyxcclxuICAgIHVwZGF0ZUNlbGxTdGF0ZSxcclxuICAgIHVwZGF0ZU1lc3NhZ2UsXHJcbiAgICByZXZlYWxTdXJyb3VuZGluZ0NlbGxzLFxyXG4gIH07XHJcbn0pKCk7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBET007XHJcbiIsIlxuICAgICAgaW1wb3J0IEFQSSBmcm9tIFwiIS4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luamVjdFN0eWxlc0ludG9TdHlsZVRhZy5qc1wiO1xuICAgICAgaW1wb3J0IGRvbUFQSSBmcm9tIFwiIS4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3N0eWxlRG9tQVBJLmpzXCI7XG4gICAgICBpbXBvcnQgaW5zZXJ0Rm4gZnJvbSBcIiEuLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbnNlcnRCeVNlbGVjdG9yLmpzXCI7XG4gICAgICBpbXBvcnQgc2V0QXR0cmlidXRlcyBmcm9tIFwiIS4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3NldEF0dHJpYnV0ZXNXaXRob3V0QXR0cmlidXRlcy5qc1wiO1xuICAgICAgaW1wb3J0IGluc2VydFN0eWxlRWxlbWVudCBmcm9tIFwiIS4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luc2VydFN0eWxlRWxlbWVudC5qc1wiO1xuICAgICAgaW1wb3J0IHN0eWxlVGFnVHJhbnNmb3JtRm4gZnJvbSBcIiEuLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zdHlsZVRhZ1RyYW5zZm9ybS5qc1wiO1xuICAgICAgaW1wb3J0IGNvbnRlbnQsICogYXMgbmFtZWRFeHBvcnQgZnJvbSBcIiEhLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi9zdHlsZS5jc3NcIjtcbiAgICAgIFxuICAgICAgXG5cbnZhciBvcHRpb25zID0ge307XG5cbm9wdGlvbnMuc3R5bGVUYWdUcmFuc2Zvcm0gPSBzdHlsZVRhZ1RyYW5zZm9ybUZuO1xub3B0aW9ucy5zZXRBdHRyaWJ1dGVzID0gc2V0QXR0cmlidXRlcztcblxuICAgICAgb3B0aW9ucy5pbnNlcnQgPSBpbnNlcnRGbi5iaW5kKG51bGwsIFwiaGVhZFwiKTtcbiAgICBcbm9wdGlvbnMuZG9tQVBJID0gZG9tQVBJO1xub3B0aW9ucy5pbnNlcnRTdHlsZUVsZW1lbnQgPSBpbnNlcnRTdHlsZUVsZW1lbnQ7XG5cbnZhciB1cGRhdGUgPSBBUEkoY29udGVudCwgb3B0aW9ucyk7XG5cblxuXG5leHBvcnQgKiBmcm9tIFwiISEuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL3N0eWxlLmNzc1wiO1xuICAgICAgIGV4cG9ydCBkZWZhdWx0IGNvbnRlbnQgJiYgY29udGVudC5sb2NhbHMgPyBjb250ZW50LmxvY2FscyA6IHVuZGVmaW5lZDtcbiIsImltcG9ydCBET00gZnJvbSBcIi4vRE9NXCI7XHJcbmltcG9ydCBHYW1lIGZyb20gXCIuL0dhbWVcIjtcclxuaW1wb3J0IFwiLi9zdHlsZXMvc3R5bGUuY3NzXCI7XHJcblxyXG4vLyBjcmVhdGUgZ2FtZWJvYXJkIGNlbGxzXHJcbkRPTS5hZGRCb2FyZENlbGxzKCk7XHJcblxyXG5HYW1lLmluaXRpYWxpemVPYmplY3RzKCk7XHJcblxyXG5jb25zdCBwbGF5ZXJCb2FyZCA9IEdhbWUuZ2V0UGxheWVyKCkuZ2V0Qm9hcmQoKTtcclxuXHJcbkRPTS5kaXNwbGF5U2hpcHMocGxheWVyQm9hcmQpO1xyXG4iXSwibmFtZXMiOlsiX19fQ1NTX0xPQURFUl9FWFBPUlRfX18iLCJwdXNoIiwibW9kdWxlIiwiaWQiLCJleHBvcnRzIiwiY3NzV2l0aE1hcHBpbmdUb1N0cmluZyIsImxpc3QiLCJ0b1N0cmluZyIsInRoaXMiLCJtYXAiLCJpdGVtIiwiY29udGVudCIsIm5lZWRMYXllciIsImNvbmNhdCIsImxlbmd0aCIsImpvaW4iLCJpIiwibW9kdWxlcyIsIm1lZGlhIiwiZGVkdXBlIiwic3VwcG9ydHMiLCJsYXllciIsInVuZGVmaW5lZCIsImFscmVhZHlJbXBvcnRlZE1vZHVsZXMiLCJrIiwiX2siLCJjc3NNYXBwaW5nIiwiYnRvYSIsImJhc2U2NCIsInVuZXNjYXBlIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwiSlNPTiIsInN0cmluZ2lmeSIsImRhdGEiLCJzb3VyY2VNYXBwaW5nIiwic3R5bGVzSW5ET00iLCJnZXRJbmRleEJ5SWRlbnRpZmllciIsImlkZW50aWZpZXIiLCJyZXN1bHQiLCJtb2R1bGVzVG9Eb20iLCJvcHRpb25zIiwiaWRDb3VudE1hcCIsImlkZW50aWZpZXJzIiwiYmFzZSIsImNvdW50IiwiaW5kZXhCeUlkZW50aWZpZXIiLCJvYmoiLCJjc3MiLCJzb3VyY2VNYXAiLCJyZWZlcmVuY2VzIiwidXBkYXRlciIsImFkZEVsZW1lbnRTdHlsZSIsImJ5SW5kZXgiLCJzcGxpY2UiLCJhcGkiLCJkb21BUEkiLCJ1cGRhdGUiLCJuZXdPYmoiLCJyZW1vdmUiLCJsYXN0SWRlbnRpZmllcnMiLCJuZXdMaXN0IiwiaW5kZXgiLCJuZXdMYXN0SWRlbnRpZmllcnMiLCJfaSIsIl9pbmRleCIsIm1lbW8iLCJpbnNlcnQiLCJzdHlsZSIsInRhcmdldCIsInN0eWxlVGFyZ2V0IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwid2luZG93IiwiSFRNTElGcmFtZUVsZW1lbnQiLCJjb250ZW50RG9jdW1lbnQiLCJoZWFkIiwiZSIsImdldFRhcmdldCIsIkVycm9yIiwiYXBwZW5kQ2hpbGQiLCJlbGVtZW50IiwiY3JlYXRlRWxlbWVudCIsInNldEF0dHJpYnV0ZXMiLCJhdHRyaWJ1dGVzIiwic3R5bGVFbGVtZW50Iiwibm9uY2UiLCJzZXRBdHRyaWJ1dGUiLCJpbnNlcnRTdHlsZUVsZW1lbnQiLCJzdHlsZVRhZ1RyYW5zZm9ybSIsImFwcGx5IiwicGFyZW50Tm9kZSIsInJlbW92ZUNoaWxkIiwicmVtb3ZlU3R5bGVFbGVtZW50Iiwic3R5bGVTaGVldCIsImNzc1RleHQiLCJmaXJzdENoaWxkIiwiY3JlYXRlVGV4dE5vZGUiLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJjYWNoZWRNb2R1bGUiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwibiIsImdldHRlciIsIl9fZXNNb2R1bGUiLCJkIiwiYSIsImRlZmluaXRpb24iLCJrZXkiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwicHJvcCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsIm5jIiwicm93IiwiY29sIiwiYXhpcyIsImhpdHMiLCJoaXQiLCJnZXRIaXRzIiwiaXNTdW5rIiwiZ2V0Q2VsbHMiLCJjZWxscyIsImoiLCJuYW1lIiwiYm9hcmQiLCJtb3ZlcyIsInNoaXBzIiwiYnJkIiwiY3JlYXRlQm9hcmQiLCJwbGFjZVNoaXAiLCJzaGlwIiwiY2VsbCIsImZvckVhY2giLCJtYXJrU3Vycm91bmRpbmdQb3NpdGlvbnMiLCJnZXRTdXJyb3VuZGluZ1Bvc2l0aW9ucyIsInN1cnJvdW5kaW5nUG9zaXRpb25zIiwiZ2V0VGFrZW5Qb3NpdGlvbnMiLCJ0YWtlblBvc2l0aW9ucyIsImlzVmFsaWRQbGFjZW1lbnQiLCJzb21lIiwicG9zaXRpb24iLCJyZW1vdmVTaGlwcyIsInJlY2VpdmVBdHRhY2siLCJhbGxTaGlwc1N1bmsiLCJldmVyeSIsImdldEFsbE1vdmVzIiwiZ2V0U2hpcHMiLCJyYW5kb21pemVTaGlwcyIsInNoaXBMZW5ndGhzIiwicG9wIiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwicm91bmQiLCJzZW5kQXR0YWNrIiwiY29vcmRzIiwiZ2V0UmFuZG9tTW92ZSIsImdldEJvYXJkIiwiR2FtZSIsInBsYXllciIsImVuZW15IiwicGxheWVyQm9hcmQiLCJlbmVteUJvYXJkIiwiaXNPdmVyIiwiZ2V0UGxheWVyIiwiZ2V0RW5lbXkiLCJwbGF5Um91bmQiLCJwbGF5ZXJCb2FyZENvbnRhaW5lciIsInBhcnNlSW50IiwiZGF0YXNldCIsInVwZGF0ZUNlbGxTdGF0ZSIsInJhbmRvbVBvc2l0aW9uIiwid2lubmVyIiwidXBkYXRlTWVzc2FnZSIsInN3aXRjaFR1cm4iLCJpc1R1cm4iLCJlbmRUdXJuIiwic3RhcnRUdXJuIiwiaW5pdGlhbGl6ZU9iamVjdHMiLCJib2FyZENvbnRhaW5lcnMiLCJxdWVyeVNlbGVjdG9yQWxsIiwiZ2V0RWxlbWVudEJ5SWQiLCJlbmVteUJvYXJkQ29udGFpbmVyIiwicGxheUJ1dHRvbiIsInJlc2V0QnV0dG9uIiwicmFuZG9tQnV0dG9uIiwibWVzc2FnZUNvbnRhaW5lciIsImRpc3BsYXlTaGlwcyIsImNsYXNzTGlzdCIsInRhcmdldENlbGwiLCJhZGQiLCJyZXZlYWxTdXJyb3VuZGluZ0NlbGxzIiwicGFyZW50IiwicGFyZW50RWxlbWVudCIsImNoaWxkcmVuIiwiZmlsdGVyIiwic2libGluZyIsImFicyIsImNvcm5lciIsImhhbmRsZUJvYXJkQ2xpY2siLCJjbG9zZXN0IiwiY29udGFpbnMiLCJtZXNzYWdlIiwidGV4dENvbnRlbnQiLCJhZGRFdmVudExpc3RlbmVyIiwiZGlzcGxheSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJhZGRCb2FyZENlbGxzIiwibG9jYWxzIl0sInNvdXJjZVJvb3QiOiIifQ==